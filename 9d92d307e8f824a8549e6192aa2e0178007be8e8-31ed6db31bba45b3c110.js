"use strict";(self.webpackChunkmyweb3course=self.webpackChunkmyweb3course||[]).push([[926],{85540:function(e,t,n){n.d(t,{i:function(){return f},w:function(){return p}});var r=n(4942),a=n(15861),c=n(87757),s=n.n(c),i=n(67294),o=n(20693),l=n(8709),d=n(70144);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=i.createContext([{},function(){},{},function(){},!1,function(){}]),p=function(e){var t=e.children,n=(0,i.useState)(void 0),r=n[0],a=n[1],c=(0,i.useState)(void 0),s=c[0],o=c[1],l=(0,i.useState)(void 0),d=l[0],u=l[1],_=(0,i.useState)(!1),p=_[0],v=_[1];return i.createElement(m.Provider,{value:[r,a,s,o,d,u,p,v]},t)},v=0,f=function(){var e=(0,l.Fp)(),t=e.instance,n=e.accounts,r=(0,i.useContext)(m),c=r[0],u=r[1],p=r[2],f=r[3],E=r[4],x=r[5],w=r[6],N=r[7],b=function(){var e=(0,a.Z)(s().mark((function e(r,a){var c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.t)(n,t);case 3:return c=e.sent,e.next=6,(0,o.Z)("reviews/users/"+r+"/projectgroups/"+a+"/count","get",c,void 0);case 6:return i=e.sent,u(i),e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.error("useReviewData:updateMyReviewSummaryData:error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(s().mark((function e(r,a){var c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.t)(n,t);case 3:return c=e.sent,0===v&&N(!1),v++,e.next=8,(0,o.Z)("reviews/users/"+r+"/projectgroups/"+a,"get",c,void 0);case 8:return i=e.sent,x(i),0===--v&&N(!0),e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(0),console.error("useReviewData:updateMyReviewsData:error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(s().mark((function e(r){var a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.t)(n,t);case 3:return a=e.sent,0===v&&N(!1),v++,e.next=8,(0,o.Z)("reviews/projectgroups/"+r+"/summary","get",a,void 0);case 8:return c=e.sent,f(c),0===--v&&N(!0),e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(0),console.error("useReviewData:updateAllReviewsData:error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(s().mark((function e(r,a){var c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.t)(n,t);case 3:return c=e.sent,e.next=6,(0,o.Z)("reviews/"+a,"PATCH",c,r);case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.error("useReviewData:updateProjectReview:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=(0,a.Z)(s().mark((function e(r,a){var c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.t)(n,t);case 3:return c=e.sent,e.next=6,(0,o.Z)("reviews","POST",c,_(_({},r),{},{projectId:a}));case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.error("useReviewData:createFreeProjectReview:error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return _({},{myReviewSummaryData:c,updateMyReviewSummaryData:b,allReviewsData:p,updateAllReviewsData:h,myReviewsData:E,updateMyReviewsData:g,updateExpectedProjectReview:y,createFreeProjectReview:j,isLoaded:w,setIsLoaded:N})}},31427:function(e,t,n){var r=n(67294),a=(n(1597),n(49256),n(35443),n(16267),n(33364)),c=n(35514);t.Z=function(e){var t=e.myReviewsSummary;return t?r.createElement("div",{className:"card card--dark-summary card--fill-wrapper"},r.createElement("div",{className:"card__header"},"Résumé de mes revues"),r.createElement("div",{className:"card__content card__content--long-titles"},r.createElement("div",{className:"card__content__title"},"Coups de coeurs disponibles"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.m6i}),r.createElement("span",{className:"text--light"},t.availableLike)),r.createElement("div",{className:"card__content__title"},"Revues attendues"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.Mzg,className:"card__content--orange"}),r.createElement("span",{className:"text--light"},t.expectedReviews)),r.createElement("div",{className:"card__content__title"},"Revues terminées"),r.createElement("div",{className:"card__content__description"},r.createElement(a.G,{icon:c.Mzg}),r.createElement("span",{className:"text--light"},t.alreadyReviewed)))):null}},35443:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(4942),a=n(15861),c=n(87757),s=n.n(c),i=n(67294),o=n(49256),l=n(16267),d=n.n(l),u=n(33364),_=n(35514),m=n(8709),p=n(43405),v=n(3290),f=n(89802),E=function(e){var t=e.project;return t?i.createElement("div",{className:"counter"},i.createElement("div",{className:""},i.createElement(u.G,{icon:_.m6i,className:"counter__symbol counter__symbol--red"}),i.createElement("span",{className:"text--light"},t.countLiked)),i.createElement("div",{className:""},i.createElement(u.G,{icon:_.Mzg,className:"counter__symbol counter__symbol--orange"}),i.createElement("span",{className:"text--light"},t.countExpected)),i.createElement("div",{className:""},i.createElement(u.G,{icon:_.Mzg,className:"counter__symbol counter__symbol--green"}),i.createElement("span",{className:"text--light"},t.countReviews))):null},x=n(85540),w=function(e){var t=e.content,n=e.author;return i.createElement("div",{className:"quote quote--close-to-others"},i.createElement("div",{className:"quote__content quote__content--dark-and-wide"},i.createElement("q",null,t),i.createElement("br",null),i.createElement("i",null,i.createElement("small",{className:"text--hand-written"},"- ",n))))};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t,n=e.project,r=e.setFilteredContents,c=(0,m.Fp)().accounts,l=null==c?void 0:c[0].username;void 0!==n.praise?t=n:n.projectReviews&&n.projectReviews.length>0&&(t=n.projectReviews.find((function(e){return e.userName===l})));var N=(0,i.useState)(!1),g=N[0],h=N[1],y=(0,i.useState)(!!t&&t.like),j=y[0],R=y[1],k=(0,i.useState)({}),O=k[0],P=k[1],D=(0,i.useState)(!1),M=D[0],C=D[1],S=(0,i.useRef)(null);(0,i.useEffect)((function(){S.current&&M&&S.current.scrollIntoView()}),[M]);var Z=(0,v.X)().userData,G=(0,x.i)(),F=G.updateExpectedProjectReview,I=G.createFreeProjectReview,L=G.updateAllReviewsData,U=G.updateMyReviewSummaryData,q=G.updateMyReviewsData,z=G.myReviewSummaryData,A=function(){var e=(0,a.Z)(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(O).length){e.next=2;break}return e.abrupt("return");case 2:if(O.praise||t&&t.praise){e.next=4;break}return e.abrupt("return");case 4:if(O.notImpressed||t&&t.notImpressed){e.next=6;break}return e.abrupt("return");case 6:if(!t){e.next=12;break}return e.next=9,F(O,t._id);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,I(O,n._id);case 14:a=e.sent;case 15:if(P({}),h(!1),!a){e.next=25;break}return e.next=20,L(n.projectGroupName);case 20:return e.next=22,U(Z.userName,n.projectGroupName);case 22:return e.next=24,q(Z.userName,n.projectGroupName);case 24:r(void 0);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){P((function(t){return b(b({},t),e)}))};return n?i.createElement("div",{className:"index__card"+(g?" index__card--is-being-edited":M?" index--long-text":""),ref:S},i.createElement("div",{className:"index__card__header"},i.createElement("span",null,"Projet N° "+n.shortId+" : "+d().decode(n.name))),i.createElement("div",{className:"index__card__header"},i.createElement(E,{project:n})),i.createElement("div",{className:"index__card__description"},n.projectMembers.includes(l)||g||M?"":i.createElement(u.G,{icon:_.Z6I,onClick:function(){h(!0)}}),g&&i.createElement(u.G,{icon:_.r6l,onClick:A}),g&&i.createElement(u.G,{icon:_.NBC,onClick:function(){h(!1),P({})}}),!g&&!M&&z&&0===z.expectedReviews&&i.createElement(u.G,{icon:_.Mdf,onClick:function(){C(!0)}}),M&&i.createElement(u.G,{icon:_.NBC,onClick:function(){C(!1)}})),i.createElement("div",{className:"index__card__content"},i.createElement("div",{className:"index__card__content__title"},"Ma revue ?"),i.createElement("div",{className:"index__card__content__description"},n.projectMembers.includes(l)?i.createElement(u.G,{icon:_.uMC}):t&&t.praise&&0!==t.praise.length?i.createElement(u.G,{icon:_.f8k}):i.createElement(u.G,{icon:_.nYk}))),i.createElement("div",{className:"index__card__content"},void 0!==n.description?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Description"),i.createElement("div",{className:"index__card__content__description"},d().decode(n.description))):""),i.createElement("div",{className:"index__card__content"},void 0!==n.presentationUrl?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),i.createElement("div",{className:"index__card__content__description"},i.createElement(o.Z,{src:n.presentationUrl}))):""),i.createElement("div",{className:"index__card__content"},void 0!==n.frontendProductionUrl?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"URL du site"),i.createElement("div",{className:"index__card__content__description"},i.createElement("a",{href:n.frontendProductionUrl,target:"_blank"},n.frontendProductionUrl))):""),i.createElement("div",{className:"index__card__content"},void 0!==n.praise||g?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Mes points forts"),i.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:g,id:"praise",startContent:t?t.praise:"",onChange:B})):""),i.createElement("div",{className:"index__card__content"},void 0!==n.notImpressed||g?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Mes points d'amélioration"),i.createElement(f.Z,{className:"index__card__content__description",isBeingEdited:g,id:"notImpressed",startContent:t?t.notImpressed:"",onChange:B})):""),i.createElement("div",{className:"index__card__content"},void 0!==n.frontendRepo?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Repo frontend"),i.createElement("div",{className:"index__card__content__description"},i.createElement("a",{href:n.frontendRepo,target:"_blank"},n.frontendRepo))):""),i.createElement("div",{className:"index__card__content"},void 0!==n.backendRepo?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Repo backend"),i.createElement("div",{className:"index__card__content__description"},i.createElement("a",{href:n.backendRepo,target:"_blank"},n.backendRepo))):""),i.createElement("div",{className:"index__card__content"},void 0!==n.projectMembers&&n.projectMembers.length>0&&M?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Membres du projet"),i.createElement("div",{className:"index__card__content__description"},n.projectMembers.map((function(e){return(0,p.w)(e)})).join(", "))):""),i.createElement("div",{className:"index__card__content"},void 0!==n.like|g?i.createElement(i.Fragment,null,i.createElement("div",{className:"index__card__content__title"},"Favori ?"),i.createElement("div",{className:"index__card__content__description"},i.createElement("input",{type:"checkbox",checked:j,disabled:!g||0===z.availableLike||!(!j||O.like),onClick:function(e){R(!j),P(b(b({},O),{like:!j}))}}))):""),M&&n.projectReviews&&n.projectReviews.length>0?n.projectReviews.map((function(e,t){return i.createElement("div",{className:"index__card__content"},i.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points forts":""),i.createElement("div",{className:"index__card__content__description"},i.createElement(w,{content:d().decode(e.praise),author:(0,p.w)(e.userName)})))})):"",M&&n.projectReviews&&n.projectReviews.length>0?n.projectReviews.map((function(e,t){return i.createElement("div",{className:"index__card__content"},i.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points d'amélioration":""),i.createElement("div",{className:"index__card__content__description"},i.createElement(w,{content:d().decode(e.notImpressed),author:(0,p.w)(e.userName)})))})):""):null}}}]);
//# sourceMappingURL=9d92d307e8f824a8549e6192aa2e0178007be8e8-31ed6db31bba45b3c110.js.map