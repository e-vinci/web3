"use strict";(self.webpackChunkmyweb3course=self.webpackChunkmyweb3course||[]).push([[644],{2248:function(e,t,r){var n=r(6540),a=r(6067),c=r.n(a);t.A=e=>{let{className:t,isBeingEdited:r,onChange:a,startContent:o,id:s,isInline:i,children:l}=e;let d,_;return r?d=o?c().decode(o):"":l?d=l:o&&(d=o?c().decode(o):""),_=t||"",r&&(_+=" index__card__content__description--is-being-edited"),i&&(_+=" index__card__content__description--is-inline"),n.createElement("div",{className:_,contentEditable:!!r,onInput:e=>{const t={};t[s]=e.currentTarget.textContent,a(t)},suppressContentEditableWarning:!0},d)}},8604:function(e,t,r){r.d(t,{B:function(){return _},z:function(){return d}});var n=r(4467),a=r(6540),c=r(6845),o=r(1262),s=r(3787);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const l=a.createContext([{},()=>{},{},()=>{},{},()=>{},{},()=>{}]),d=e=>{let{children:t}=e;const{0:r,1:n}=(0,a.useState)(void 0),{0:c,1:o}=(0,a.useState)(void 0),{0:s,1:i}=(0,a.useState)(void 0),{0:d,1:_}=(0,a.useState)(!1);return a.createElement(l.Provider,{value:[r,n,c,o,s,i,d,_]},t)},_=()=>{const{instance:e,accounts:t}=(0,o.dk)(),{0:r,1:d,2:_,3:m,4:u,5:p,6:v,7:E}=(0,a.useContext)(l);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{projectGroupData:r,updateProjectGroupData:async r=>{try{const n=await(0,s.J)(t,e),a=await(0,c.A)(`projectgroups/${r}`,"get",n,void 0);return d(a),a}catch(n){console.error("useProjectData:error:",n)}},userData:_,updateUserData:async r=>{try{const n=await(0,s.J)(t,e),a=await(0,c.A)(`users/role/?projectgroupname=${r}`,"get",n,void 0);return m(a),a}catch(n){console.error("useProjectData:updateUserData:error:",n)}},projectData:u,updateProjectData:async r=>{try{const n=await(0,s.J)(t,e);E(!1);let a=await(0,c.A)("projects/projectgroups/"+r,"get",n,void 0);return p(a),E(!0),a}catch(n){console.error("useProjectData:updateProjectDataerror:",n)}},addOneProject:async r=>{try{const n=await(0,s.J)(t,e);return await(0,c.A)("projects","post",n,{projectGroupName:r})}catch(n){console.error("useProjectData:addOneProject:error:",n)}},deleteOneProject:async r=>{try{const n=await(0,s.J)(t,e);return await(0,c.A)("projects/"+r._id,"DELETE",n,void 0)}catch(n){console.error("useProjectData:deleteOneProject:error:",n)}},addMemberToProject:async r=>{try{const n=await(0,s.J)(t,e);return await(0,c.A)("projects/"+r._id+"/member","POST",n,void 0)}catch(n){console.error("useProjectData:addMemberToProject:error:",n)}},deleteMemberFromProject:async r=>{try{const n=await(0,s.J)(t,e);return await(0,c.A)("projects/"+r._id+"/member","DELETE",n,void 0)}catch(n){console.error("useProjectData:deleteMemberFromProject:error:",n)}},updateProject:async(r,n)=>{try{const a=await(0,s.J)(t,e);return await(0,c.A)("projects/"+n,"PATCH",a,r)}catch(a){console.error("useProjectData:updateProject:error:",a)}},isLoaded:v,setIsLoaded:E})}},7010:function(e,t,r){r.d(t,{M:function(){return _},y:function(){return m}});var n=r(4467),a=r(6540),c=r(6845),o=r(1262),s=r(3787);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=a.createContext([{},()=>{},{},()=>{},!1,()=>{}]),_=e=>{let{children:t}=e;const{0:r,1:n}=(0,a.useState)(void 0),{0:c,1:o}=(0,a.useState)(void 0),{0:s,1:i}=(0,a.useState)(void 0),{0:l,1:_}=(0,a.useState)(!1);return a.createElement(d.Provider,{value:[r,n,c,o,s,i,l,_]},t)};const m=()=>{const{instance:e,accounts:t}=(0,o.dk)(),{0:r,1:n,2:i,3:_,4:m,5:u,6:p,7:v}=(0,a.useContext)(d);return l({},{myReviewSummaryData:r,updateMyReviewSummaryData:async(r,a)=>{try{const o=await(0,s.J)(t,e),i=await(0,c.A)(`reviews/users/${r}/projectgroups/${a}/count`,"get",o,void 0);return n(i),i}catch(o){console.error("useReviewData:updateMyReviewSummaryData:error:",o)}},allReviewsData:i,updateAllReviewsData:async r=>{try{const n=await(0,s.J)(t,e);v(!1);const a=await(0,c.A)(`reviews/projectgroups/${r}/summary`,"get",n,void 0);return _(a),v(!0),a}catch(n){v(!0),console.error("useReviewData:updateAllReviewsData:error:",n)}},myReviewsData:m,updateMyReviewsData:async(r,n)=>{try{const a=await(0,s.J)(t,e);v(!1);const o=await(0,c.A)(`reviews/users/${r}/projectgroups/${n}`,"get",a,void 0);return u(o),v(!0),o}catch(a){v(!0),console.error("useReviewData:updateMyReviewsData:error:",a)}},updateExpectedProjectReview:async(r,n)=>{try{const a=await(0,s.J)(t,e);return await(0,c.A)("reviews/"+n,"PATCH",a,r)}catch(a){console.error("useReviewData:updateProjectReview:error:",a)}},createFreeProjectReview:async(r,n)=>{try{const a=await(0,s.J)(t,e);return await(0,c.A)("reviews","POST",a,l(l({},r),{},{projectId:n}))}catch(a){console.error("useReviewData:createFreeProjectReview:error:",a)}},isLoaded:p,setIsLoaded:v})}},5604:function(e,t,r){var n=r(6540),a=(r(8007),r(4902),r(8128),r(6067),r(6784)),c=r(2630);t.A=e=>{let{myReviewsSummary:t}=e;return t?n.createElement("div",{className:"card card--dark-summary card--fill-wrapper"},n.createElement("div",{className:"card__header"},"Résumé de mes revues"),n.createElement("div",{className:"card__content card__content--long-titles"},n.createElement("div",{className:"card__content__title"},"Coups de coeurs disponibles"),n.createElement("div",{className:"card__content__description"},n.createElement(a.g,{icon:c.qcK}),n.createElement("span",{className:"text--light"},t.availableLike)),n.createElement("div",{className:"card__content__title"},"Revues attendues"),n.createElement("div",{className:"card__content__description"},n.createElement(a.g,{icon:c.DN2,className:"card__content--orange"}),n.createElement("span",{className:"text--light"},t.expectedReviews)),n.createElement("div",{className:"card__content__title"},"Revues terminées"),n.createElement("div",{className:"card__content__description"},n.createElement(a.g,{icon:c.DN2}),n.createElement("span",{className:"text--light"},t.alreadyReviewed)))):null}},8128:function(e,t,r){r.d(t,{A:function(){return y}});var n=r(4467),a=r(6540),c=r(4902),o=r(6067),s=r.n(o),i=r(6784),l=r(2630),d=r(1262),_=r(4781),m=r(8604),u=r(2248);var p=e=>{let{project:t}=e;return t?a.createElement("div",{className:"counter"},a.createElement("div",{className:""},a.createElement(i.g,{icon:l.qcK,className:"counter__symbol counter__symbol--red"}),a.createElement("span",{className:"text--light"},t.countLiked)),a.createElement("div",{className:""},a.createElement(i.g,{icon:l.DN2,className:"counter__symbol counter__symbol--orange"}),a.createElement("span",{className:"text--light"},t.countExpected)),a.createElement("div",{className:""},a.createElement(i.g,{icon:l.DN2,className:"counter__symbol counter__symbol--green"}),a.createElement("span",{className:"text--light"},t.countReviews))):null},v=r(7010);var E=e=>{let{content:t,author:r}=e;return a.createElement("div",{className:"quote quote--close-to-others"},a.createElement("div",{className:"quote__content quote__content--dark-and-wide"},a.createElement("q",null,t),a.createElement("br",null),a.createElement("i",null,a.createElement("small",{className:"text--hand-written"},"- ",r))))};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=e=>{let{project:t,setFilteredContents:r}=e;const{accounts:n}=(0,d.dk)(),o=null==n?void 0:n[0].username;let w;void 0!==t.praise?w=t:t.projectReviews&&t.projectReviews.length>0&&(w=t.projectReviews.find((e=>e.userName===o)));const{0:y,1:g}=(0,a.useState)(!1),{0:f,1:b}=(0,a.useState)(!!w&&w.like),{0:N,1:h}=(0,a.useState)({}),{0:x,1:O}=(0,a.useState)(!1),P=(0,a.useRef)(null);(0,a.useEffect)((()=>{P.current&&x&&P.current.scrollIntoView()}),[x]);const{userData:D}=(0,m.B)(),{updateExpectedProjectReview:R,createFreeProjectReview:k,updateAllReviewsData:A,updateMyReviewSummaryData:C,updateMyReviewsData:S,myReviewSummaryData:M}=(0,v.y)(),J=e=>{h((t=>j(j({},t),e)))};return t?a.createElement("div",{className:"index__card"+(y?" index__card--is-being-edited":x?" index--long-text":""),ref:P},a.createElement("div",{className:"index__card__header"},a.createElement("span",null,"Projet N° "+t.shortId+" : "+s().decode(t.name))),a.createElement("div",{className:"index__card__header"},a.createElement(p,{project:t})),a.createElement("div",{className:"index__card__description"},t.projectMembers.includes(o)||y||x?"":a.createElement(i.g,{icon:l.Bep,onClick:()=>{g(!0)}}),y&&a.createElement(i.g,{icon:l.hSh,onClick:async()=>{if(0===Object.keys(N).length)return;if(!(N.praise||w&&w.praise))return;if(!(N.notImpressed||w&&w.notImpressed))return;let e;e=w?await R(N,w._id):await k(N,t._id),h({}),g(!1),e&&(await A(t.projectGroupName),await C(D.userName,t.projectGroupName),await S(D.userName,t.projectGroupName),r(void 0))}}),y&&a.createElement(i.g,{icon:l.GRI,onClick:()=>{g(!1),h({})}}),!y&&!x&&M&&0===M.expectedReviews&&a.createElement(i.g,{icon:l.pS3,onClick:()=>{O(!0)}}),x&&a.createElement(i.g,{icon:l.GRI,onClick:()=>{O(!1)}})),a.createElement("div",{className:"index__card__content"},a.createElement("div",{className:"index__card__content__title"},"Ma revue ?"),a.createElement("div",{className:"index__card__content__description"},t.projectMembers.includes(o)?a.createElement(i.g,{icon:l.Ip$}):w&&w.praise&&0!==w.praise.length?a.createElement(i.g,{icon:l.SGM}):a.createElement(i.g,{icon:l.s0Q}))),a.createElement("div",{className:"index__card__content"},void 0!==t.description?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Description"),a.createElement("div",{className:"index__card__content__description"},s().decode(t.description))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.presentationUrl?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),a.createElement("div",{className:"index__card__content__description"},a.createElement(c.A,{src:t.presentationUrl}))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.frontendProductionUrl?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"URL du site"),a.createElement("div",{className:"index__card__content__description"},a.createElement("a",{href:t.frontendProductionUrl,target:"_blank"},t.frontendProductionUrl))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.praise||y?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Mes points forts"),a.createElement(u.A,{className:"index__card__content__description",isBeingEdited:y,id:"praise",startContent:w?w.praise:"",onChange:J})):""),a.createElement("div",{className:"index__card__content"},void 0!==t.notImpressed||y?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Mes points d'amélioration"),a.createElement(u.A,{className:"index__card__content__description",isBeingEdited:y,id:"notImpressed",startContent:w?w.notImpressed:"",onChange:J})):""),a.createElement("div",{className:"index__card__content"},void 0!==t.frontendRepo?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Repo frontend"),a.createElement("div",{className:"index__card__content__description"},a.createElement("a",{href:t.frontendRepo,target:"_blank"},t.frontendRepo))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.backendRepo?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Repo backend"),a.createElement("div",{className:"index__card__content__description"},a.createElement("a",{href:t.backendRepo,target:"_blank"},t.backendRepo))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.projectMembers&&t.projectMembers.length>0&&x?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Membres du projet"),a.createElement("div",{className:"index__card__content__description"},t.projectMembers.map((e=>(0,_.J)(e))).join(", "))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.like|y?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Favori ?"),a.createElement("div",{className:"index__card__content__description"},a.createElement("input",{type:"checkbox",checked:f,disabled:!y||0===M.availableLike||!(!f||N.like),onClick:e=>{b(!f),h(j(j({},N),{like:!f}))}}))):""),x&&t.projectReviews&&t.projectReviews.length>0?t.projectReviews.map(((e,t)=>a.createElement("div",{className:"index__card__content"},a.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points forts":""),a.createElement("div",{className:"index__card__content__description"},a.createElement(E,{content:s().decode(e.praise),author:(0,_.J)(e.userName)}))))):"",x&&t.projectReviews&&t.projectReviews.length>0?t.projectReviews.map(((e,t)=>a.createElement("div",{className:"index__card__content"},a.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points d'amélioration":""),a.createElement("div",{className:"index__card__content__description"},a.createElement(E,{content:s().decode(e.notImpressed),author:(0,_.J)(e.userName)}))))):""):null}},1838:function(e,t,r){var n=r(6540),a=r(6784),c=r(2630);t.A=()=>n.createElement("div",{className:"spinner"},n.createElement("div",{className:"spinner__overlay"}),n.createElement("div",{className:"spinner__animation"},n.createElement(a.g,{icon:c.z1G,className:"fa-3x fa-spin"})))},6845:function(e,t,r){async function n(e,t,r,n){void 0===t&&(t="get");let a=new Headers,c={};if(c.method=t,r){const e=`Bearer ${r}`;a.append("Authorization",e)}n&&(c.body=JSON.stringify(n)),"post"!==t.toLowerCase()&&"patch"!==t.toLowerCase()&&"put"!==t.toLowerCase()||a.append("Content-Type","application/json"),c.headers=a;const o="https://e-vinci-course-api.azurewebsites.net/api/"+e;try{const e=await fetch(o,c);if(!e.ok){let t=" Error code : "+e.status+" : "+e.statusText+"/nMessage : ";throw t+=await e.text(),console.error("fetch() error",t),t.search("expired"),new Error(t)}return await e.json()}catch(s){throw s}}r.d(t,{A:function(){return n}})},3787:function(e,t,r){r.d(t,{J:function(){return a}});var n=r(6097);async function a(e,t){if(e.length>0){const a={scopes:["openid"],account:e[0]};try{return(await t.acquireTokenSilent(a)).idToken}catch(r){if(r instanceof n.CB){return(await t.acquireTokenRedirect(a)).idToken}}}}},4781:function(e,t,r){r.d(t,{J:function(){return n}});const n=e=>{let t=e.substring(0,e.indexOf("@")),r=t.substring(0,t.indexOf(".")),n=t.substring(t.indexOf(".")+1);return r=r.charAt(0).toUpperCase()+r.slice(1),n=n.charAt(0).toUpperCase()+n.slice(1),n.indexOf(".")>=0&&(n=n.substring(n.indexOf(".")+1),n=n.charAt(0).toUpperCase()+n.slice(1)),r+" "+n}}}]);
//# sourceMappingURL=9d92d307e8f824a8549e6192aa2e0178007be8e8-4ad167196a94c9939b2d.js.map