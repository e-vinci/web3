"use strict";(self.webpackChunkmyweb3course=self.webpackChunkmyweb3course||[]).push([[926],{9802:function(e,t,r){var n=r(7294),a=r(6267),c=r.n(a);t.Z=e=>{let{className:t,isBeingEdited:r,onChange:a,startContent:o,id:s,isInline:i,children:l}=e;let d,_;return r?d=o?c().decode(o):"":l?d=l:o&&(d=o?c().decode(o):""),_=t||"",r&&(_+=" index__card__content__description--is-being-edited"),i&&(_+=" index__card__content__description--is-inline"),n.createElement("div",{className:_,contentEditable:!!r,onInput:e=>{const t={};t[s]=e.currentTarget.textContent,a(t)},suppressContentEditableWarning:!0},d)}},3290:function(e,t,r){r.d(t,{X:function(){return _},a:function(){return d}});var n=r(4942),a=r(7294),c=r(693),o=r(8709),s=r(144);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const l=a.createContext([{},()=>{},{},()=>{},{},()=>{},{},()=>{}]),d=e=>{let{children:t}=e;const{0:r,1:n}=(0,a.useState)(void 0),{0:c,1:o}=(0,a.useState)(void 0),{0:s,1:i}=(0,a.useState)(void 0),{0:d,1:_}=(0,a.useState)(!1);return a.createElement(l.Provider,{value:[r,n,c,o,s,i,d,_]},t)},_=()=>{const{instance:e,accounts:t}=(0,o.Fp)(),{0:r,1:d,2:_,3:m,4:u,5:p,6:v,7:E}=(0,a.useContext)(l);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{projectGroupData:r,updateProjectGroupData:async r=>{try{const n=await(0,s.t)(t,e),a=await(0,c.Z)("projectgroups/"+r,"get",n,void 0);return d(a),a}catch(n){console.error("useProjectData:error:",n)}},userData:_,updateUserData:async r=>{try{const n=await(0,s.t)(t,e),a=await(0,c.Z)("users/role/?projectgroupname="+r,"get",n,void 0);return m(a),a}catch(n){console.error("useProjectData:updateUserData:error:",n)}},projectData:u,updateProjectData:async r=>{try{const n=await(0,s.t)(t,e);E(!1);let a=await(0,c.Z)("projects/projectgroups/"+r,"get",n,void 0);return p(a),E(!0),a}catch(n){console.error("useProjectData:updateProjectDataerror:",n)}},addOneProject:async r=>{try{const n=await(0,s.t)(t,e);return await(0,c.Z)("projects","post",n,{projectGroupName:r})}catch(n){console.error("useProjectData:addOneProject:error:",n)}},deleteOneProject:async r=>{try{const n=await(0,s.t)(t,e);return await(0,c.Z)("projects/"+r._id,"DELETE",n,void 0)}catch(n){console.error("useProjectData:deleteOneProject:error:",n)}},addMemberToProject:async r=>{try{const n=await(0,s.t)(t,e);return await(0,c.Z)("projects/"+r._id+"/member","POST",n,void 0)}catch(n){console.error("useProjectData:addMemberToProject:error:",n)}},deleteMemberFromProject:async r=>{try{const n=await(0,s.t)(t,e);return await(0,c.Z)("projects/"+r._id+"/member","DELETE",n,void 0)}catch(n){console.error("useProjectData:deleteMemberFromProject:error:",n)}},updateProject:async(r,n)=>{try{const a=await(0,s.t)(t,e);return await(0,c.Z)("projects/"+n,"PATCH",a,r)}catch(a){console.error("useProjectData:updateProject:error:",a)}},isLoaded:v,setIsLoaded:E})}},5540:function(e,t,r){r.d(t,{i:function(){return u},w:function(){return _}});var n=r(4942),a=r(7294),c=r(693),o=r(8709),s=r(144);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=a.createContext([{},()=>{},{},()=>{},!1,()=>{}]),_=e=>{let{children:t}=e;const{0:r,1:n}=(0,a.useState)(void 0),{0:c,1:o}=(0,a.useState)(void 0),{0:s,1:i}=(0,a.useState)(void 0),{0:l,1:_}=(0,a.useState)(!1);return a.createElement(d.Provider,{value:[r,n,c,o,s,i,l,_]},t)};let m=0;const u=()=>{const{instance:e,accounts:t}=(0,o.Fp)(),{0:r,1:n,2:i,3:_,4:u,5:p,6:v,7:E}=(0,a.useContext)(d);return l({},{myReviewSummaryData:r,updateMyReviewSummaryData:async(r,a)=>{try{const o=await(0,s.t)(t,e),i=await(0,c.Z)("reviews/users/"+r+"/projectgroups/"+a+"/count","get",o,void 0);return n(i),i}catch(o){console.error("useReviewData:updateMyReviewSummaryData:error:",o)}},allReviewsData:i,updateAllReviewsData:async r=>{try{const n=await(0,s.t)(t,e);0===m&&E(!1),m++;const a=await(0,c.Z)("reviews/projectgroups/"+r+"/summary","get",n,void 0);return _(a),m--,0===m&&E(!0),a}catch(n){console.error("useReviewData:updateAllReviewsData:error:",n)}},myReviewsData:u,updateMyReviewsData:async(r,n)=>{try{const a=await(0,s.t)(t,e);0===m&&E(!1),m++;const o=await(0,c.Z)("reviews/users/"+r+"/projectgroups/"+n,"get",a,void 0);return p(o),m--,0===m&&E(!0),o}catch(a){E(!0),console.error("useReviewData:updateMyReviewsData:error:",a)}},updateExpectedProjectReview:async(r,n)=>{try{const a=await(0,s.t)(t,e);return await(0,c.Z)("reviews/"+n,"PATCH",a,r)}catch(a){console.error("useReviewData:updateProjectReview:error:",a)}},createFreeProjectReview:async(r,n)=>{try{const a=await(0,s.t)(t,e);return await(0,c.Z)("reviews","POST",a,l(l({},r),{},{projectId:n}))}catch(a){console.error("useReviewData:createFreeProjectReview:error:",a)}},isLoaded:v,setIsLoaded:E})}},1427:function(e,t,r){var n=r(7294),a=(r(1082),r(9256),r(5443),r(6267),r(3364)),c=r(5514);t.Z=e=>{let{myReviewsSummary:t}=e;return t?n.createElement("div",{className:"card card--dark-summary card--fill-wrapper"},n.createElement("div",{className:"card__header"},"Résumé de mes revues"),n.createElement("div",{className:"card__content card__content--long-titles"},n.createElement("div",{className:"card__content__title"},"Coups de coeurs disponibles"),n.createElement("div",{className:"card__content__description"},n.createElement(a.G,{icon:c.m6i}),n.createElement("span",{className:"text--light"},t.availableLike)),n.createElement("div",{className:"card__content__title"},"Revues attendues"),n.createElement("div",{className:"card__content__description"},n.createElement(a.G,{icon:c.Mzg,className:"card__content--orange"}),n.createElement("span",{className:"text--light"},t.expectedReviews)),n.createElement("div",{className:"card__content__title"},"Revues terminées"),n.createElement("div",{className:"card__content__description"},n.createElement(a.G,{icon:c.Mzg}),n.createElement("span",{className:"text--light"},t.alreadyReviewed)))):null}},5443:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(4942),a=r(7294),c=r(9256),o=r(6267),s=r.n(o),i=r(3364),l=r(5514),d=r(8709),_=r(3405),m=r(3290),u=r(9802);var p=e=>{let{project:t}=e;return t?a.createElement("div",{className:"counter"},a.createElement("div",{className:""},a.createElement(i.G,{icon:l.m6i,className:"counter__symbol counter__symbol--red"}),a.createElement("span",{className:"text--light"},t.countLiked)),a.createElement("div",{className:""},a.createElement(i.G,{icon:l.Mzg,className:"counter__symbol counter__symbol--orange"}),a.createElement("span",{className:"text--light"},t.countExpected)),a.createElement("div",{className:""},a.createElement(i.G,{icon:l.Mzg,className:"counter__symbol counter__symbol--green"}),a.createElement("span",{className:"text--light"},t.countReviews))):null},v=r(5540);var E=e=>{let{content:t,author:r}=e;return a.createElement("div",{className:"quote quote--close-to-others"},a.createElement("div",{className:"quote__content quote__content--dark-and-wide"},a.createElement("q",null,t),a.createElement("br",null),a.createElement("i",null,a.createElement("small",{className:"text--hand-written"},"- ",r))))};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=e=>{let{project:t,setFilteredContents:r}=e;const{accounts:n}=(0,d.Fp)(),o=null==n?void 0:n[0].username;let w;void 0!==t.praise?w=t:t.projectReviews&&t.projectReviews.length>0&&(w=t.projectReviews.find((e=>e.userName===o)));const{0:y,1:f}=(0,a.useState)(!1),{0:b,1:N}=(0,a.useState)(!!w&&w.like),{0:g,1:h}=(0,a.useState)({}),{0:x,1:O}=(0,a.useState)(!1),P=(0,a.useRef)(null);(0,a.useEffect)((()=>{P.current&&x&&P.current.scrollIntoView()}),[x]);const{userData:R}=(0,m.X)(),{updateExpectedProjectReview:D,createFreeProjectReview:k,updateAllReviewsData:C,updateMyReviewSummaryData:S,updateMyReviewsData:M,myReviewSummaryData:Z}=(0,v.i)(),G=e=>{h((t=>j(j({},t),e)))};return t?a.createElement("div",{className:"index__card"+(y?" index__card--is-being-edited":x?" index--long-text":""),ref:P},a.createElement("div",{className:"index__card__header"},a.createElement("span",null,"Projet N° "+t.shortId+" : "+s().decode(t.name))),a.createElement("div",{className:"index__card__header"},a.createElement(p,{project:t})),a.createElement("div",{className:"index__card__description"},t.projectMembers.includes(o)||y||x?"":a.createElement(i.G,{icon:l.Z6I,onClick:()=>{f(!0)}}),y&&a.createElement(i.G,{icon:l.r6l,onClick:async()=>{if(0===Object.keys(g).length)return;if(!(g.praise||w&&w.praise))return;if(!(g.notImpressed||w&&w.notImpressed))return;let e;e=w?await D(g,w._id):await k(g,t._id),h({}),f(!1),e&&(await C(t.projectGroupName),await S(R.userName,t.projectGroupName),await M(R.userName,t.projectGroupName),r(void 0))}}),y&&a.createElement(i.G,{icon:l.NBC,onClick:()=>{f(!1),h({})}}),!y&&!x&&Z&&0===Z.expectedReviews&&a.createElement(i.G,{icon:l.Mdf,onClick:()=>{O(!0)}}),x&&a.createElement(i.G,{icon:l.NBC,onClick:()=>{O(!1)}})),a.createElement("div",{className:"index__card__content"},a.createElement("div",{className:"index__card__content__title"},"Ma revue ?"),a.createElement("div",{className:"index__card__content__description"},t.projectMembers.includes(o)?a.createElement(i.G,{icon:l.uMC}):w&&w.praise&&0!==w.praise.length?a.createElement(i.G,{icon:l.f8k}):a.createElement(i.G,{icon:l.nYk}))),a.createElement("div",{className:"index__card__content"},void 0!==t.description?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Description"),a.createElement("div",{className:"index__card__content__description"},s().decode(t.description))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.presentationUrl?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Vidéo de présentation"),a.createElement("div",{className:"index__card__content__description"},a.createElement(c.Z,{src:t.presentationUrl}))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.frontendProductionUrl?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"URL du site"),a.createElement("div",{className:"index__card__content__description"},a.createElement("a",{href:t.frontendProductionUrl,target:"_blank"},t.frontendProductionUrl))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.praise||y?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Mes points forts"),a.createElement(u.Z,{className:"index__card__content__description",isBeingEdited:y,id:"praise",startContent:w?w.praise:"",onChange:G})):""),a.createElement("div",{className:"index__card__content"},void 0!==t.notImpressed||y?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Mes points d'amélioration"),a.createElement(u.Z,{className:"index__card__content__description",isBeingEdited:y,id:"notImpressed",startContent:w?w.notImpressed:"",onChange:G})):""),a.createElement("div",{className:"index__card__content"},void 0!==t.frontendRepo?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Repo frontend"),a.createElement("div",{className:"index__card__content__description"},a.createElement("a",{href:t.frontendRepo,target:"_blank"},t.frontendRepo))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.backendRepo?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Repo backend"),a.createElement("div",{className:"index__card__content__description"},a.createElement("a",{href:t.backendRepo,target:"_blank"},t.backendRepo))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.projectMembers&&t.projectMembers.length>0&&x?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Membres du projet"),a.createElement("div",{className:"index__card__content__description"},t.projectMembers.map((e=>(0,_.w)(e))).join(", "))):""),a.createElement("div",{className:"index__card__content"},void 0!==t.like|y?a.createElement(a.Fragment,null,a.createElement("div",{className:"index__card__content__title"},"Favori ?"),a.createElement("div",{className:"index__card__content__description"},a.createElement("input",{type:"checkbox",checked:b,disabled:!y||0===Z.availableLike||!(!b||g.like),onClick:e=>{N(!b),h(j(j({},g),{like:!b}))}}))):""),x&&t.projectReviews&&t.projectReviews.length>0?t.projectReviews.map(((e,t)=>a.createElement("div",{className:"index__card__content"},a.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points forts":""),a.createElement("div",{className:"index__card__content__description"},a.createElement(E,{content:s().decode(e.praise),author:(0,_.w)(e.userName)}))))):"",x&&t.projectReviews&&t.projectReviews.length>0?t.projectReviews.map(((e,t)=>a.createElement("div",{className:"index__card__content"},a.createElement("div",{className:"index__card__content__title"},0===t?"Tous les points d'amélioration":""),a.createElement("div",{className:"index__card__content__description"},a.createElement(E,{content:s().decode(e.notImpressed),author:(0,_.w)(e.userName)}))))):""):null}},9896:function(e,t,r){var n=r(7294),a=r(3364),c=r(5514);t.Z=()=>n.createElement("div",{className:"spinner"},n.createElement("div",{className:"spinner__overlay"}),n.createElement("div",{className:"spinner__animation"},n.createElement(a.G,{icon:c.LM3,className:"fa-3x fa-spin"})))},693:function(e,t,r){async function n(e,t,r,n){void 0===t&&(t="get");let a=new Headers,c={};if(c.method=t,r){const e="Bearer "+r;a.append("Authorization",e)}n&&(c.body=JSON.stringify(n)),"post"!==t.toLowerCase()&&"patch"!==t.toLowerCase()&&"put"!==t.toLowerCase()||a.append("Content-Type","application/json"),c.headers=a;const o="https://e-vinci-course-api.azurewebsites.net/api/"+e;try{const e=await fetch(o,c);if(!e.ok){let t=" Error code : "+e.status+" : "+e.statusText+"/nMessage : ";throw t+=await e.text(),console.error("fetch() error",t),t.search("expired"),new Error(t)}return await e.json()}catch(s){throw s}}r.d(t,{Z:function(){return n}})},144:function(e,t,r){r.d(t,{t:function(){return a}});var n=r(640);async function a(e,t){if(e.length>0){const a={scopes:["openid"],account:e[0]};try{return(await t.acquireTokenSilent(a)).idToken}catch(r){if(r instanceof n.Yo){return(await t.acquireTokenRedirect(a)).idToken}}}}},3405:function(e,t,r){r.d(t,{w:function(){return n}});const n=e=>{let t=e.substring(0,e.indexOf("@")),r=t.substring(0,t.indexOf(".")),n=t.substring(t.indexOf(".")+1);return r=r.charAt(0).toUpperCase()+r.slice(1),n=n.charAt(0).toUpperCase()+n.slice(1),n.indexOf(".")>=0&&(n=n.substring(n.indexOf(".")+1),n=n.charAt(0).toUpperCase()+n.slice(1)),r+" "+n}}}]);
//# sourceMappingURL=9d92d307e8f824a8549e6192aa2e0178007be8e8-761a7ec5731cdd0edb36.js.map