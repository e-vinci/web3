{"version":3,"file":"component---src-pages-login-js-22670c6d8637da4a5152.js","mappings":"2NA8DA,UA5Cc,WACZ,OAA+BA,EAAAA,EAAAA,MAAvBC,EAAR,EAAQA,SAGR,GAHA,EAAkBC,UACMC,EAAAA,EAAAA,OAEQC,EAAAA,EAAAA,WAAS,IAAlCC,EAAP,WAEAC,EAAAA,EAAAA,YAAU,WAEHD,GAAUE,GAChB,IAGD,IAAMA,EAAW,mCAAG,8EAClB,IACEN,EAASO,cAAcC,EAAAA,GAKxB,CAHC,MAAOC,GAGR,CAPiB,2CAAH,qDAWjB,OACE,gBAAC,IAAD,KACE,2BACE,qBAAGC,UAAU,QAAb,wCAEE,gBAAC,EAAAC,KAAD,CAAMC,GAAG,UACP,gBAAC,EAAAC,EAAD,CACEC,IAAI,2BACJC,IAAI,GACJC,MAAM,KACNC,OAAO,KAJT,uBADF,OAFF,uBAgBP,C","sources":["webpack://myweb3course/./src/pages/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  useMsal,\n  useIsAuthenticated,\n  InteractionStatus,\n  inProgress,\n} from \"@azure/msal-react\";\nimport { loginRequest } from \"../utils/auths/authConfig\";\nimport { navigate } from \"gatsby\";\nimport { Link } from \"gatsby\";\nimport { StaticImage } from \"gatsby-plugin-image\";\nimport MainLayout from \"../components/main-layout\";\n\n\n/**\n * IT SEEMS NO LONGER REQUIRED : TO BE DELETED\n * @returns \n */\nconst Login = () => {\n  const { instance, accounts } = useMsal();\n  const isAuthenticated = useIsAuthenticated();\n\n  const [isSigned, setIsSigned] = useState(false);\n\n  useEffect(() => {\n    // You need to restrict it at some point\n    if (!isSigned) onSigningIn();\n  });\n\n  // call the redirect function from MS Azure AD\n  const onSigningIn = async () => {\n    try {\n      instance.loginRedirect(loginRequest);\n      \n    } catch (error) {\n      // handle error, either in the library or coming back from the server\n      console.log(\"error during redirect :\", error);\n    }\n  };\n\n\n  return (\n    <MainLayout>\n      <div>\n        <p className=\"pl-3\">\n          Vous pouvez vous logger en cliquant &nbsp;\n          <Link to=\"/login\">\n            <StaticImage\n              src=\"../images/logo_vinci.png\"\n              alt=\"\"\n              width=\"24\"\n              height=\"24\"\n            />\n            ici\n          </Link>\n          &nbsp; ou dans le menu.\n        </p>\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default Login;\n"],"names":["useMsal","instance","accounts","useIsAuthenticated","useState","isSigned","useEffect","onSigningIn","loginRedirect","loginRequest","error","className","Link","to","S","src","alt","width","height"],"sourceRoot":""}