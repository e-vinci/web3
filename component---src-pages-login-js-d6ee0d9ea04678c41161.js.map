{"version":3,"file":"component---src-pages-login-js-d6ee0d9ea04678c41161.js","mappings":"uLA8DA,UA5CcA,KACZ,MAAM,SAAEC,EAAQ,SAAEC,IAAaC,EAAAA,EAAAA,OAGzB,EAACC,EAAS,EAACC,KAFOC,EAAAA,EAAAA,OAEQC,EAAAA,EAAAA,WAAS,KAEzCC,EAAAA,EAAAA,YAAU,KAEHJ,GAAUK,GAAa,IAI9B,MAAMA,EAAcC,UAClB,IACET,EAASU,cAAcC,EAAAA,GAEzB,CAAE,MAAOC,GAGT,GAIF,OACEC,EAAAA,cAACC,EAAAA,EAAU,KACTD,EAAAA,cAAA,WACEA,EAAAA,cAAA,KAAGE,UAAU,QAAO,wCAElBF,EAAAA,cAACG,EAAAA,KAAI,CAACC,GAAG,UACPJ,EAAAA,cAACK,EAAAA,EAAW,CACVC,IAAI,2BACJC,IAAI,GACJC,MAAM,KACNC,OAAO,KAAIC,YAAAC,EAAA,QACX,OAEG,uBAIA,C","sources":["webpack://myweb3course/./src/pages/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  useMsal,\n  useIsAuthenticated,\n  InteractionStatus,\n  inProgress,\n} from \"@azure/msal-react\";\nimport { loginRequest } from \"../utils/auths/authConfig\";\nimport { navigate } from \"gatsby\";\nimport { Link } from \"gatsby\";\nimport { StaticImage } from \"gatsby-plugin-image\";\nimport MainLayout from \"../components/main-layout\";\n\n\n/**\n * IT SEEMS NO LONGER REQUIRED : TO BE DELETED\n * @returns \n */\nconst Login = () => {\n  const { instance, accounts } = useMsal();\n  const isAuthenticated = useIsAuthenticated();\n\n  const [isSigned, setIsSigned] = useState(false);\n\n  useEffect(() => {\n    // You need to restrict it at some point\n    if (!isSigned) onSigningIn();\n  });\n\n  // call the redirect function from MS Azure AD\n  const onSigningIn = async () => {\n    try {\n      instance.loginRedirect(loginRequest);\n      \n    } catch (error) {\n      // handle error, either in the library or coming back from the server\n      console.log(\"error during redirect :\", error);\n    }\n  };\n\n\n  return (\n    <MainLayout>\n      <div>\n        <p className=\"pl-3\">\n          Vous pouvez vous logger en cliquant &nbsp;\n          <Link to=\"/login\">\n            <StaticImage\n              src=\"../images/logo_vinci.png\"\n              alt=\"\"\n              width=\"24\"\n              height=\"24\"\n            />\n            ici\n          </Link>\n          &nbsp; ou dans le menu.\n        </p>\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default Login;\n"],"names":["Login","instance","accounts","useMsal","isSigned","setIsSigned","useIsAuthenticated","useState","useEffect","onSigningIn","async","loginRedirect","loginRequest","error","React","MainLayout","className","Link","to","StaticImage","src","alt","width","height","__imageData","require"],"sourceRoot":""}