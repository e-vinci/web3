{"version":3,"file":"component---src-pages-login-js-fd387bf6608f9938d847.js","mappings":"8LA8DA,UA5CcA,KACZ,MAAM,SAAEC,EAAQ,SAAEC,IAAaC,EAAAA,EAAAA,OAGzB,EAACC,EAAS,EAACC,KAFOC,EAAAA,EAAAA,OAEQC,EAAAA,EAAAA,WAAS,KAEzCC,EAAAA,EAAAA,YAAU,KAEHJ,GAAUK,GAAa,IAI9B,MAAMA,EAAcC,UAClB,IACET,EAASU,cAAcC,EAAAA,GAEzB,CAAE,MAAOC,GAGT,GAIF,OACEC,EAAAA,cAACC,EAAAA,EAAU,KACTD,EAAAA,cAAA,WACEA,EAAAA,cAAA,KAAGE,UAAU,QAAO,wCAElBF,EAAAA,cAACG,EAAAA,KAAI,CAACC,GAAG,UACPJ,EAAAA,cAACK,EAAAA,EAAW,CACVC,IAAI,2BACJC,IAAI,GACJC,MAAM,KACNC,OAAO,KAAIC,YAAAC,EAAA,SACX,OAEG,uBAIA,C","sources":["webpack://myweb3course/./src/pages/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  useMsal,\r\n  useIsAuthenticated,\r\n  InteractionStatus,\r\n  inProgress,\r\n} from \"@azure/msal-react\";\r\nimport { loginRequest } from \"../utils/auths/authConfig\";\r\nimport { navigate } from \"gatsby\";\r\nimport { Link } from \"gatsby\";\r\nimport { StaticImage } from \"gatsby-plugin-image\";\r\nimport MainLayout from \"../components/main-layout\";\r\n\r\n\r\n/**\r\n * IT SEEMS NO LONGER REQUIRED : TO BE DELETED\r\n * @returns \r\n */\r\nconst Login = () => {\r\n  const { instance, accounts } = useMsal();\r\n  const isAuthenticated = useIsAuthenticated();\r\n\r\n  const [isSigned, setIsSigned] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // You need to restrict it at some point\r\n    if (!isSigned) onSigningIn();\r\n  });\r\n\r\n  // call the redirect function from MS Azure AD\r\n  const onSigningIn = async () => {\r\n    try {\r\n      instance.loginRedirect(loginRequest);\r\n      \r\n    } catch (error) {\r\n      // handle error, either in the library or coming back from the server\r\n      console.log(\"error during redirect :\", error);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div>\r\n        <p className=\"pl-3\">\r\n          Vous pouvez vous logger en cliquant &nbsp;\r\n          <Link to=\"/login\">\r\n            <StaticImage\r\n              src=\"../images/logo_vinci.png\"\r\n              alt=\"\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n            />\r\n            ici\r\n          </Link>\r\n          &nbsp; ou dans le menu.\r\n        </p>\r\n      </div>\r\n    </MainLayout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","instance","accounts","useMsal","isSigned","setIsSigned","useIsAuthenticated","useState","useEffect","onSigningIn","async","loginRedirect","loginRequest","error","React","MainLayout","className","Link","to","StaticImage","src","alt","width","height","__imageData","require"],"sourceRoot":""}