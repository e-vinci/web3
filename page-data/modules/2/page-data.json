{"componentChunkName":"component---src-templates-mdx-pages-js","path":"/modules/2/","result":{"data":{"mdx":{"id":"51faa87d-ed39-5379-b688-fd714d64ba63","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Module 2 : React state\",\n  \"description\": \"React state\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Module 2 : React state\"), mdx(\"p\", null, \"Ce module vous offre principalement la d\\xE9couverte de la gestion des \\xE9v\\xE9nements en React, ainsi que la gestion des \\xE9tats.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Voici les sujets trait\\xE9s :\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#a\"\n  }, \"Pr\\xE9paration de l'exercice\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a.1) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#a1\"\n  }, \"Depuis le cours en ligne\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a.2) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#a2\"\n  }, \"Remarques g\\xE9n\\xE9rales\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b\"\n  }, \"Utiliser les \\xE9v\\xE9nements\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#c\"\n  }, \"Sauvegarder le compteur !\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"d) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#d\"\n  }, \"\\uD83C\\uDF6C Votre premier Hook custom !\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e\"\n  }, \"A retenir\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"f) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#f\"\n  }, \"Solution des exercices\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Voici les lectures indispensables pour suivre ce module :\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pr\\xE9requis, \\xE0 revoir attentivement : \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://fullstackopen.com/en/part1/java_script\"\n  }, \"JavaScript\"), \" \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Nouvelle mati\\xE8re : \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://fullstackopen.com/en/part1/component_state_event_handlers\"\n  }, \"Component state, event handlers\"), \" \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\"))), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"a\"\n  }), \"a) Pr\\xE9paration de l'exercice\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"a1\"\n  }), \"a.1) Depuis le cours en ligne\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Dans votre dossier \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"/exercises\"), \" de votre repo local, lancez la commande : \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"npx create-react-app module2\"), \" ou \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"npm create vite@latest module2 -- --template react\"), \" si vous utilisez vite.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Supprimez tout le contenu du dossier \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"src/\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Comme pour la semaine pr\\xE9c\\xE9dente, n'oubliez pas de supprimer le dossier \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \".git\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Copiez le fichier \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"jsconfig.json\"), \" et \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"src/index.js\"), \" (ou \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"jsconfig.json\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vite.config.js\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"src/main.js\"), \" et \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"src/index.css\"), \" si vous utilisez vite) depuis le dossier de l'exercice du module pr\\xE9c\\xE9dent.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Introduisez les composants \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"App\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Display\"), \", et \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Button\"), \" en copiant le contenu du cours en ligne. N'oubliez pas que chacun d'entre eux doit \\xEAtre dans un dossier qui porte le m\\xEAme nom que le composant : \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"src/components/[componentName]/[componentName].jsx\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"V\\xE9rifiez que les 3 boutons fonctionnent correctement : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"increase\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"decrease\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"reset\"), \".\")), mdx(\"p\", null, \"Veuillez faire un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre code avec le message suivant : \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"module2 : init\"), \"\\\".\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"a2\"\n  }), \" a.2) Remarques g\\xE9n\\xE9rales\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Gardez la partie jsx la plus simple possible, d\\xE9finissez toujours des \\\"helper functions\\\" et \\\"helper variables\\\" avant le \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"JSX\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Nommez vos \\\"event handlers\\\" avec des pr\\xE9fixes, par exemple : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"handleXXX\"), \" ou \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"onXXX\"), \". Ceci va vous permettre de vous souvenir que ces m\\xE9thodes re\\xE7oivent un unique param\\xE8tre \\\"event\\\" (ou e). N'utilisez pas ces pr\\xE9fixes pour vos m\\xE9thodes \\\"business\\\" qui re\\xE7oivent des param\\xE8tres \\\"normaux\\\".\", mdx(\"br\", {\n    parentName: \"li\"\n  }), \"\\uD83D\\uDC4D En React, g\\xE9n\\xE9ralement la convention est d'utiliser \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"on[Event]\")), \" comme nom pour des props qui repr\\xE9sentent des \\xE9v\\xE9nements et \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"handle[Event]\")), \" pour les m\\xE9thodes qui g\\xE8rent ces \\xE9v\\xE9nements.\")), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"b\"\n  }), \"b) Utiliser les \\xE9v\\xE9nements\"), mdx(\"p\", null, \"Dans cet exercice, toujours dans \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/exercises/module2\"), \", l'objectif va \\xEAtre de supprimer les m\\xE9thodes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"increaseByOne()\"), \"... et les remplacer par une unique m\\xE9thode \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"changeCount(delta)\"), \" qui va prendre un \\\"delta\\\" en param\\xE8tre. Ce delta va \\xEAtre ajout\\xE9 au compteur, et donnera la nouvelle valeur. Par exemple, un appel \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"changeCount(1)\"), \" va ajouter 1 au compteur, un appel \\xE0 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"changeCount(-10)\"), \" va ajouter -10 au compteur ce qui \\xE9quivaut \\xE0 supprimer 10 du compteur.\"), mdx(\"p\", null, \"Pour cela, commencez par ajouter une prop \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"delta\"), \" dans le composant \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Button\"), \". Utilisez ce \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"delta\"), \" que vous recevez dans votre composant pour remplir l'attribut HTML \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"data-delta\"), \" du bouton. N'h\\xE9sitez pas \\xE0 aller lire \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\"\n  }, \"la documentation MDN sur les \\\"data attributes\\\"\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r5\"\n  }, \"[R.5]\"), \".\"), mdx(\"p\", null, \"Supprimez les m\\xE9thodes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"increaseByOne()\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"decreaseByOne()\"), \", et \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setToZero()\"), \" du composant \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"App\"), \". Et \\xE9crivez cette m\\xE9thode \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"changeCount(delta)\"), \". Elle prend un nombre en param\\xE8tre, et met \\xE0 jour le compteur en fonction du \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"delta\"), \" pass\\xE9 en param\\xE8tre.\"), mdx(\"p\", null, \"Jusqu'ici, les Button recevaient en props un texte \\xE0 afficher (tr\\xE8s bien, c'est \\xE0 garder), mais \\xE9galement une fonction \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onClick\"), \" qui permettait de r\\xE9agir au clic sur le bouton. Supprimez cette prop, et passez plut\\xF4t en param\\xE8tre la fonction \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"changeCount\"), \" que vous avez cr\\xE9\\xE9e, et le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"delta\"), \" qui doit \\xEAtre associ\\xE9 au bouton :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Incr\\xE9menter : +1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"D\\xE9cr\\xE9menter : -1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Reset : -counter\")), mdx(\"p\", null, \"R\\xE9cup\\xE9rez la prop \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"changeCount\"), \" dans le component \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Button\"), \" et \\xE9crivez une \\\"helper function\\\" \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"handleClick(e)\")), \" qui va extraire la valeur de l'\\xE9l\\xE9ment cliqu\\xE9 (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e.target.dataset.delta\"), \") et appeller \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"changeCount\"), \" avec le bon delta.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Remarques/consignes :\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"N'UTILISEZ PAS la prop \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"delta\"), \" dans \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"handleClick\"), \", utilisez uniquement l'\\xE9v\\xE9nement que vous recevez en param\\xE8tre.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"N'oubliez pas d'utiliser \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"parseInt()\"), \" pour parser la valeur que vous recevez. L'op\\xE9rateur \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"+\"), \" sur une cha\\xEEne de caract\\xE8res fait une concat\\xE9nation en JS.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Les props React ne sont pas des attributs HTML, elles conservent leur types, alors que les attributs HTML sont s\\xE9rialis\\xE9s dans le HTML et sont donc toujours des string. Dans notre cas ici, le data-attribute \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"delta\"), \" qu'on a \\xE9crit sur notre \\\"button\\\" HTML a donc \\xE9t\\xE9 s\\xE9rialis\\xE9 sous forme de string. Quand on le r\\xE9cup\\xE8re avec \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"e.target.dataset.delta\")), \", il est donc bien au format string. Il faut donc le parser.\")), mdx(\"p\", null, \"Veuillez faire un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre code avec le message suivant : \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"module2 : events\"), \"\\\".\"), mdx(\"p\", null, \"\\uD83D\\uDCAD Maintenant que vous avez termin\\xE9 cet exercice, remarquez qu'on aurait pu faire mieux, et beaucoup plus propre !\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Pourquoi passer par un data-attribute pour transmettre le delta, alors qu'on peut r\\xE9-utiliser directement la prop delta dans le handleClick ?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"La r\\xE9ponse ici est simple, juste pour l'exercice \\uD83D\\uDE09\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Gr\\xE2ce \\xE0 \\xE7a, vous avez appris qu'utiliser des attributs HTML directement nous fait perdre le type, qu'il faut parser le r\\xE9sultat, et que ce n'est pas une bonne mani\\xE8re de faire \\uD83D\\uDE09.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"c\"\n  }), \"c) Sauvegarder le compteur\"), mdx(\"p\", null, \"Pour cet exercice, toujours dans \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/exercises/module2\"), \", dans le composant \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"App\"), \", appelez \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localStorage.setItem(\\\"counter\\\", JSON.stringify(counter))\"), \" \\xE0 chaque fois qu'on change le compteur. Dans notre cas ici, c'est juste apr\\xE8s l'appel \\xE0 la m\\xE9thode \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setCounter\"), \" dans \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"changeCount\"), \".\"), mdx(\"p\", null, \"Ensuite, dans le \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState(0)\"), \", au lieu de donner \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"0\"), \" comme valeur initiale au compteur, essayez de lire la valeur du compteur depuis le localStorage \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JSON.parse(localStorage.getItem(\\\"counter\\\"))\"), \" et passez la au \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useState\"), \" comme valeur par d\\xE9faut. Rafraichissez votre page apr\\xE8s le changement du compteur, et constatez qu'il \\xE0 \\xE9t\\xE9 persist\\xE9.\"), mdx(\"p\", null, \"Vous remarquerez cependant qu'il y a un souci avec la valeur du compteur qui est persist\\xE9e. Il y a bien une persistance qui est faite, mais la valeur n'est pas correcte... Essayez de r\\xE9fl\\xE9chir \\xE0 la question, \\xE9ventuellement en lisant la documentation officielle de React sur le hook \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useState\"), \" : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://reactjs.org/docs/hooks-state.html\"\n  }, \"Using the State Hook\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r6\"\n  }, \"[R.6]\"), \" ou sur le Render des composants : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://reactjs.org/docs/rendering-elements.html\"\n  }, \"Rendering Elements\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r5\"\n  }, \"[R.5]\"), \".\"), mdx(\"p\", null, \"Vous avez r\\xE9fl\\xE9chi \\xE0 la question ? V\\xE9rifiez ci-dessous si vous avez trouv\\xE9 la \\\"bonne\\\" r\\xE9ponse...\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"======= SPOILER =======\")), mdx(\"p\", null, \"Au cas ou vous ne l'auriez pas compris, lorsque l'\\xE9tat d\\xE9fini gr\\xE2ce au \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useState\"), \" vient \\xE0 changer, React re-render les composants qui sont impact\\xE9s par ce changement. La seule mani\\xE8re pour nous de changer la valeur du compteur, s'est d'utiliser le \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setCounter()\"), \" que le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useState\"), \" nous \\xE0 donn\\xE9. L'appeler en donnant une nouvelle valeur va relancer un render. Mais React ne fait pas un render \\xE0 chaque changement d'un \\xE9tat dans notre application. Il va optimiser les render pour \\xE9viter d'en faire \\xE0 tout bout de champ. Le render sera fait quant il veut, sans que vous sachiez exactement quand... Du coup, \\xE0 la ligne juste apr\\xE8s votre appel \\xE0 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setCounter\"), \", vous utilisez la valeur du counter en pensant qu'elle a \\xE9t\\xE9 chang\\xE9e, mais en fait, React ne la changera qu'au prochain render... Donc pas tout de suite ! Il faut donc trouver une petite parade ;-)\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"======= FIN SPOILER =======\")), mdx(\"p\", null, \"Une fois que tout est en ordre, que le refresh n'alt\\xE8re en rien la valeur du compteur affich\\xE9e,\\nveuillez faire un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre code avec le message suivant : \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"module2 : localStorage\"), \"\\\".\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"d\"\n  }), \"d) \\uD83C\\uDF6C Votre premier Hook custom ! \", mdx(\"em\", {\n    parentName: \"h1\"\n  }, \"(Exercice facultatif, pour les plus motiv\\xE9s)\")), mdx(\"p\", null, \"Vous aurez remarqu\\xE9 que ce code n'est pas tr\\xE8s propre... A chaque appel de \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setCounter()\"), \", il ne faudra surtout pas oublier d'\\xE9crire dans le localStorage... Et il faudra faire \\xE7a, pour chaque variable qu'on veut persister... Autant dire que c'est copier/coller du code partout, et le risque d'erreur est \\xE9norme...\"), mdx(\"p\", null, \"Et pourquoi ne pas faire notre propre \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useState\"), \", mais qui \\xE9crit dans le localStorage au passage ?\"), mdx(\"p\", null, \"Ecrivez un fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"src/hooks/useLocalStorage.js\"), \" (notez l'extension \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \".js\"), \" et pas \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \".jsx\"), \").\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Ce fichier doit d\\xE9clarer et exporter une fonction \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"useLocalStorage(key, initialValue)\")), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Cette fonction utilisera en son coeur la fonction \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"useState\"), \" et comme elle, renverra une valeur et un setter. En plus de cela , elle stockera la valeur actuelle dans le localStorage \\xE0 l'indice de la clef donn\\xE9e et chargera la valeur stock\\xE9e initialement. Si la clef n'existe pas dans le localStorage, cette fonction initialisera la clef avec la valeur pass\\xE9e en second param\\xE8tre.\"), mdx(\"p\", null, \"Attention ! N'oubliez pas de cr\\xE9er \\\"l'alias\\\" pour le dossier hooks dans le fichier \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vite.config.js\"), \" et le \\\"path\\\" dans le fichier \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jsconfig.json\"), \".\"), mdx(\"p\", null, \"Veuillez faire un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre code avec le message suivant : \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"module2 : custom hook\"), \"\\\".\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"e\"\n  }), \"e) A retenir\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"useState\"), \" permet de stocker un \\xE9tat et de \\\"rerender\\\" les composants automatiquement quand c'est n\\xE9cessaire.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Les \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"props\"), \" sont la principale mani\\xE8re de passer des donn\\xE9es ET des fonctions.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Chaque Component doit \\xEAtre dans son dossier.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Les fonctions de gestion d'\\xE9v\\xE9nements recoivent un unique param\\xE8tre \\\"\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"e\"), \"\\\" qui repr\\xE9sente l'\\xE9v\\xE9nement. Elles portent un nom qui commence par \\\"handle\\\" ou \\\"on\\\" afin de les identifier facilement.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Les fonctions de gestion d'\\xE9v\\xE9nements sont dans le composant qui g\\xE9n\\xE8re l'\\xE9v\\xE9nement. Mais elles sont souvent de simples wrapper vers des fonctions \\\"m\\xE9tiers\\\" re\\xE7ue via les props.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Les fonctions m\\xE9tiers viennent du composant \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"App\"), \".\")), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"f\"\n  }), \" f) \\uD83C\\uDF6C Solution des exercices\"), mdx(\"p\", null, \"Une solution pour les exercices de ce module se trouvent ici : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gitlab.vinci.be/6i3-web3/2023-2024/module2.git\"\n  }, \"module-2\"), \".\"), mdx(\"p\", null, \"Vous devez avoir un compte Vinci pour pouvoir y acc\\xE9der.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"modules/2.fr","frontmatter":{"title":"Module 2 : React state","date":null,"navbarExtraStyles":"","headerImage":"","featuredImage":"","description":"React state","autoMargin":true}},"allImages":{"edges":[{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#683898","images":{"fallback":{"src":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png","srcSet":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png 512w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/cc23f/icon.webp 512w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}},"base":"icon.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/web3/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png","srcSet":"/web3/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png 544w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/309e0fb8b4416829acfed4f7a501206b/5eade/logo_vinci.webp 544w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9044117647058824}},"base":"logo_vinci.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/web3/static/1b27e491527e99eeac84485aef739cd3/7af5e/opinions.png","srcSet":"/web3/static/1b27e491527e99eeac84485aef739cd3/7af5e/opinions.png 363w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/1b27e491527e99eeac84485aef739cd3/f319a/opinions.webp 363w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.41597796143250687}},"base":"opinions.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/web3/static/24dee9cafd76e7c25dc74141c33450b2/e53ce/propDrilling.png","srcSet":"/web3/static/24dee9cafd76e7c25dc74141c33450b2/c0a68/propDrilling.png 750w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/8e03e/propDrilling.png 1080w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/e53ce/propDrilling.png 1128w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/24dee9cafd76e7c25dc74141c33450b2/6e63e/propDrilling.webp 750w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/fcd24/propDrilling.webp 1080w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/9bf70/propDrilling.webp 1128w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7677304964539007}},"base":"propDrilling.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/web3/static/4ac56fca29eee6cf101be55d24c59b72/79afd/scores.png","srcSet":"/web3/static/4ac56fca29eee6cf101be55d24c59b72/79afd/scores.png 287w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/4ac56fca29eee6cf101be55d24c59b72/c6f03/scores.webp 287w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.494773519163763}},"base":"scores.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#181818","images":{"fallback":{"src":"/web3/static/3df055edb9c0a06e37fec1309d96c61e/d8efd/autocompletion.png","srcSet":"/web3/static/3df055edb9c0a06e37fec1309d96c61e/d8efd/autocompletion.png 570w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/3df055edb9c0a06e37fec1309d96c61e/08f60/autocompletion.webp 570w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6964912280701754}},"base":"autocompletion.png"}}]}},"pageContext":{"slug":"/modules/2/"}},"staticQueryHashes":["1696221415","3028011774","3458129946","493526238","501654901","575455071"]}