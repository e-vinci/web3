{"componentChunkName":"component---src-templates-mdx-pages-js","path":"/modules/4/","result":{"data":{"mdx":{"id":"7690af01-0824-5d8a-8e8d-ee266eb76bc2","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Module 4 : Service web & clients\",\n  \"description\": \"Création de services web, de RESTful API & requêtes clientes\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar ScrollableImage = makeShortcode(\"ScrollableImage\");\nvar LinkFile = makeShortcode(\"LinkFile\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Module 4 : Service web & clients\"), mdx(\"p\", null, \"Ce module vous offre principalement la cr\\xE9ation de services web et la mise en place de requ\\xEAtes clientes pour tester des RESTful API.\"), mdx(\"p\", null, \"Voici les sujets trait\\xE9s :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#a\"\n  }, \"Introduction au backend\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b\"\n  }, \"Introduction \\xE0 Node.js\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b.1) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b1\"\n  }, \"Introduction\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b.2) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b2\"\n  }, \"Ou mettre du code Node.js ?\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b.3) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b3\"\n  }, \"Les modules CommonJS\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b.4) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b4\"\n  }, \"Introduction aux packages\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#c\"\n  }, \"Introduction \\xE0 Express\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c.1) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#c1\"\n  }, \"Introduction\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c.2) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#c2\"\n  }, \"Cr\\xE9er une application Express \\\"from scratch\\\"\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c.3) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#c3\"\n  }, \"Cr\\xE9er une application Express via un g\\xE9n\\xE9rateur\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"d) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#d\"\n  }, \"Introduction aux RESTful API\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"d.1) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#d1\"\n  }, \"Introduction\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"d.2) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#d2\"\n  }, \"Conventions REST\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e\"\n  }, \"Introduction aux RESTful API via Express\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.1) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e1\"\n  }, \"Introduction\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.2) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e2\"\n  }, \"Configuration et d\\xE9marrage d'une application Express\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.3) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e3\"\n  }, \"Serveur web int\\xE9gr\\xE9\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.4) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e4\"\n  }, \"Les fonctions middleware en Express\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.5) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e5\"\n  }, \"D\\xE9finition d'une route en Express\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.6) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e6\"\n  }, \"Op\\xE9ration de lecture\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.7) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e7\"\n  }, \"Chemin et param\\xE8tres de route\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.8) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e8\"\n  }, \"Chemin et param\\xE8tres de requ\\xEAte\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.9) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e9\"\n  }, \"Op\\xE9ration de cr\\xE9ation & parsing du body\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.10) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e10\"\n  }, \"Client REST\"), \" \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.11) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e11\"\n  }, \"R\\xE9pondre avec un code de statut HTTP\"), \" \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.12) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e12\"\n  }, \"Op\\xE9ration de suppression\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e.13) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e13\"\n  }, \"Op\\xE9ration de modification\"), \" \"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"f) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#f\"\n  }, \"Spread operator\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"g) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#g\"\n  }, \"Exercice 4.1 : Cr\\xE9ation d'une RESTfull API non prot\\xE9g\\xE9e pour myMovies\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"h) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#h\"\n  }, \"\\uD83C\\uDF6C Exercice 4.2 : Gestion de la pagination, de l'ordre de pr\\xE9sentation et du filtrage de films\"))), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"a\"\n  }), \"a) Introduction au backend\"), mdx(\"h2\", null, \"a.1) Frontend, backend, c'est quoi ?\"), mdx(\"p\", null, \"Un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"frontend\"), \", c'est une application :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qui s'ex\\xE9cute c\\xF4t\\xE9 client, une IHM, qu'on pourrait aussi appeler UI ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qui est en direct interaction avec l'utilisateur ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"impl\\xE9ment\\xE9, dans ce cours-ci, en HTML / CSS / JS.\")), mdx(\"p\", null, \"Un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"backend\"), \", c'est une application :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qui s'ex\\xE9cute c\\xF4t\\xE9 serveur ; \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qui n'offre pas d'interaction directe avec l'utilisateur ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qui parfois met \\xE0 disposition le \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"frontend\"), \" ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"qui parfois offre des op\\xE9rations sur des donn\\xE9es.\")), mdx(\"h2\", null, \"a.2) R\\xF4les principaux du backend\"), mdx(\"h3\", null, \"a.2.1) Fourniture du frontend\"), mdx(\"p\", null, \"Un des r\\xF4les du backend est de fournir le frontend :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"via un serveur de fichiers statiques\"), \" ; c'est la mise \\xE0 disposition des assets : fichiers HTML, CSS, JS, images...\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"via la g\\xE9n\\xE9ration dynamique de pages HTML\"), \" ; c'est ce qui se passe quand le backend fait du Server Side Rendering (SSR), g\\xE9n\\xE9ralement dans le cadre de Multi Page Applications.  \")), mdx(\"p\", null, \"Dans le cadre de ce cours, nous ne ferons pas de g\\xE9n\\xE9ration dynamique d'HTML c\\xF4t\\xE9 serveur (ou SSR).\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Par contre, nous avons d\\xE9j\\xE0 vu :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"comment faire de la g\\xE9n\\xE9ration dynamique d'HTML c\\xF4t\\xE9 client (ou Client Side Rendering = CSR).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"mettre \\xE0 disposition notre frontend, notre IHM, \\xE0 l'aide d'un serveur de fichiers statiques : c'est ce que notamment fait le serveur de d\\xE9veloppement de Webpack, il me \\xE0 disposition les assets permettant au browser d'ex\\xE9cuter l'application web.\")), mdx(\"h3\", null, \"a.2.2) Fourniture d'op\\xE9rations sur des ressources\"), mdx(\"p\", null, \"Un autre r\\xF4le important du backend est de mettre \\xE0 disposition des op\\xE9rations sur des ressources, c'est ce qu'on appelle les services web ou web API.\"), mdx(\"p\", null, \"Il existe diff\\xE9rents types de technologies et architectures web permettant d'impl\\xE9menter des web services, notamment :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"RESTful API\"), \" ; c'est l'architecture qui actuellement est la plus utilis\\xE9e et qui sera apprise dans le cadre de ce cours.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"GraphQL API\"), \" ; c'est une technologie r\\xE9cente qui permet de tr\\xE8s rapidement cr\\xE9er des requ\\xEAtes sur des ressources et qui a \\xE9t\\xE9 cr\\xE9\\xE9e par Facebook ; nous ne verrons pas cette technologie dans le cadre de ce cours.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"SOAP API\"), \" ; c'est une fa\\xE7on ancienne de cr\\xE9er des op\\xE9rations sur des ressources mettant en oeuvre de l'XML pour communiquer entre des applications clients / serveurs. Nous ne verrons pas cette technologie dans le cadre de ce cours.\")), mdx(\"h3\", null, \"a.2.3) Autres r\\xF4les du backend ?\"), mdx(\"p\", null, \"Un backend peut offrir d'autres services, comme :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"proxy\"), \" : interm\\xE9diaire entre les clients demandant une ressource et le serveur fournissant cette ressource. On verra ce type de service, notamment pour masquer l'origine d'une requ\\xEAte \\xE0 une API.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"reverse proxy\"), \" : c'est un serveur qui fait l'interm\\xE9diaire avec d'autres serveurs, cachant au client qui est le v\\xE9ritable serveur ayant trait\\xE9 de sa requ\\xEAte. Par exemple, un proxy serveur peut mettre \\xE0 disposition des acc\\xE8s \\xE0 des serveurs interne \\xE0 une entreprise (non visibles sur le web) alors que le client interroge un serveur qui est visible sur le web.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"serveur d'emails\"), \" ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"...\")), mdx(\"h3\", null, \"a.2.3) Technologies backend possibles\"), mdx(\"p\", null, \"Voici un exemple de technologies qui pourrait \\xEAtre mises en oeuvre pour d\\xE9velopper une application backend :\"), mdx(ScrollableImage, {\n    name: \"techno.png\",\n    minWidth: \"586px\",\n    maxWidth: \"586px\",\n    mdxType: \"ScrollableImage\"\n  }), mdx(\"figcaption\", null, \"Technologies backend possibles\"), mdx(\"h3\", null, \"a.2.4) Technologies backend s\\xE9lectionn\\xE9es pour ce cours\"), mdx(\"p\", null, \"Voici les technologies qui ont \\xE9t\\xE9 choisies pour \\xEAtre mises en oeuvre pour d\\xE9velopper une application backend en JS :\"), mdx(ScrollableImage, {\n    name: \"techno-course.png\",\n    minWidth: \"721px\",\n    maxWidth: \"721px\",\n    mdxType: \"ScrollableImage\"\n  }), mdx(\"figcaption\", null, \"Technologies backend en JS choisies pour ce cours\"), mdx(\"p\", null, \"Nous allons utiliser Express comme framework pour rapidement d\\xE9velopper des applications Node.js.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"b\"\n  }), \"b) Introduction \\xE0 Node.js\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"b1\"\n  }), \" b.1) Introduction\"), mdx(\"p\", null, \"Node.js est un environnement serveur open source permettant la cr\\xE9ation d'outils et applications c\\xF4t\\xE9 serveur en JS.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Node.js offre une utilisation optimale des ressources des serveurs sans d\\xE9pendance \\xE0 un serveur http externe, tout en \\xE9tant multiplateforme (Windows, Linux, Mac\\u2026).\"), mdx(\"p\", null, \"Pour le d\\xE9veloppement d'IHM de fa\\xE7on modernes, vous avez d\\xE9j\\xE0 install\\xE9 l'environnement Node.js. Mais si \\xE7a n'est pas install\\xE9, il est important que vous installiez l'environnement \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://nodejs.org/en/\"\n  }, \"Node.js en version LTS\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r34\"\n  }, \"[R.34]\"), \".\"), mdx(\"p\", null, \"Vous ne devez pas apprendre un nouveau langage pour d\\xE9velopper des applications backend, Node.js, c'est du JS.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Si vous avez besoin d'un rappel du langage, vous pouvez le faire ici : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/intro/#e\"\n  }, \"Introduction au langage JS\"), \".\"), mdx(\"p\", null, \"Tr\\xE8s souvent, Node.js est cod\\xE9 en JS conforme au standard CommonJS.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"La gestion des modules est diff\\xE9rente du JS conforme au standard ECMAScript, telle que nous avons appris pour du JS c\\xF4t\\xE9 browser.\"), mdx(\"p\", null, \"M\\xEAme s'il est possible d'\\xE9crire du Node.js conforme au standard ECMAScript, la majorit\\xE9 du code que vous trouverez sur le web sera conforme \\xE0 CommonJS.\"), mdx(\"p\", null, \"D\\xE8s lors, nous allons vous expliquer plus tard comment g\\xE9rer des modules en Node.js conforme au standard CommonJS.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"b2\"\n  }), \" b.2) Ou mettre du code Node.js ?\"), mdx(\"h3\", null, \"b.2.1) Directement dans un terminal\"), mdx(\"p\", null, \"Il est possible d'\\xE9crire du code Node.js directement dans un terminal.\"), mdx(\"p\", null, \"Pour rappel, nous vous conseillons d'utiliser Git Bash comme terminal au sein de VS Code. \"), mdx(\"p\", null, \"Vous devriez d\\xE9j\\xE0 avoir configur\\xE9 VS Code pour avoir comme Terminal par d\\xE9faut\\nGit Bash. Si \\xE7a n'est pas fait, nous vous rappelons la proc\\xE9dure :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vous devez avoir install\\xE9 Git sur votre machine.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Cliquez \\xE0 droite du \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"+\"), \" au sein d'un terminal ouvert dans VS Code, clic sur \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Select Default Profile\"), \", puis s\\xE9lectionnez \\\"Git Bash\\\". Tous les prochains terminaux que vous ouvrirez le seront sous Git Bash, nettement plus color\\xE9 et int\\xE9ressant que les autres terminaux \\uD83D\\uDE0E.\")), mdx(ScrollableImage, {\n    name: \"terminal-2.png\",\n    minWidth: \"933px\",\n    maxWidth: \"933px\",\n    mdxType: \"ScrollableImage\"\n  }), mdx(\"figcaption\", null, \"Choix du terminal par d\\xE9faut\"), mdx(\"p\", null, \"Veuillez tester du code Node.js directement dans un terminal en tapant cela au sein d'un terminal de VS Code :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"node\\n\")), mdx(\"p\", null, \"Vous avez maintenant acc\\xE8s au terminal de Node.js.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Vous pouvez tenter une op\\xE9ration math\\xE9matique de votre choix, comme par exemple : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"2 * Math.PI\")), mdx(\"p\", null, \"Incroyable mais vrai, vous avez maintenant acc\\xE8s \\xE0 une nouvelle calculatrice sur tous les appareils o\\xF9 vous avez Node.js install\\xE9. Et si Node.js n'est pas install\\xE9, pas de panique, la console de votre Browser pourra toujours vous aider \\uD83D\\uDE09.\"), mdx(\"p\", null, \"Quand vous souhaitez sortir de l'interpr\\xE9teur de commandes de Nodes, il faut taper :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"soit deux fois \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"CTRL c\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"soit \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"CTRL d\")))), mdx(\"h3\", null, \"b.2.2) Dans un script\"), mdx(\"p\", null, \"Nous \\xE9crivons g\\xE9n\\xE9ralement le code Node.js au sein d'un script externe.\"), mdx(\"p\", null, \"Dans votre repo \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"web2\"), \", veuillez cr\\xE9er un r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials/node-start\"), \" et y ajouter le fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"start.js\"), \" contenant ce code-ci :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"class Car {\\n  constructor(brand, model) {\\n    this.brand = brand;\\n    this.model = model;\\n    this.id = Math.random();\\n  }\\n\\n  getDescription() {\\n    return `Car's description : ${this.brand}, ${this.model} , ID:${this.id}`;\\n  }\\n}\\n\\nconst dacia = new Car('Dacia', 'Sandero');\\n\\nconsole.log( dacia.getDescription() );\\n\")), mdx(\"p\", null, \"Pour lancer une application Node.js, il suffit de taper dans un terminal : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"node nomScript\")), \" (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \".js\")), \" est optionnel).\"), mdx(\"p\", null, \"Donc pour lancer le script cr\\xE9\\xE9 ci-dessus, veuillez ouvrir un terminal au bon endroit.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Pour rappel, Il est possible de faire un clic droit dans l'Explorer de VS Code sur le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node-start\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Open in Integrated Terminal\"), \" pour ouvrir un terminal \\xE0 l'endroit souhait\\xE9.\"), mdx(\"p\", null, \"Il ne vous reste plus qu'\\xE0 taper :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"node start # or node start.js\\n\")), mdx(\"p\", null, \"Voil\\xE0, c'est une simple application Node.js qui affiche un message dans le terminal.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"b3\"\n  }), \" b.3) Les modules CommonJS\"), mdx(\"h3\", null, \"b.3.1) Introduction\"), mdx(\"p\", null, \"Un module est une librairie JS fournissant des objets.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Comme en JS tout est objet, un module met donc \\xE0 disposition des fonctions, des constantes, des variables...\"), mdx(\"h3\", null, \"b.3.2) Cr\\xE9ation d'un module\"), mdx(\"p\", null, \"Pour cr\\xE9er un module, il suffit de cr\\xE9er un script JS \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"nomModule.js\"), \" et d'exporter des objets au sein de ce module via \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"module.exports\"), \" ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"exports\"), \".\"), mdx(\"h3\", null, \"b.3.3) Exporter des objets\"), mdx(\"h4\", null, \"b.3.3.1) Introduction\"), mdx(\"p\", null, \"Il existe plusieurs fa\\xE7ons d'exporter des objets, soit \\xE0 la vol\\xE9e, soit \\xE0 la fin d'un script.\"), mdx(\"p\", null, \"\\uD83D\\uDC4D Nous vous recommandons de faire vos exports \\xE0 la fin du script, cela rend les scripts plus lisibles. \"), mdx(\"p\", null, \"Nous allons n\\xE9anmoins voir toutes les fa\\xE7ons d'exporter des objets en CommonJS, car vous trouverez de tout sur le web.\"), mdx(\"p\", null, \"On exporte toujours un seul objet principal dans un module. Cet objet peut bien s\\xFBr contenir une multitude d'objets via ses propri\\xE9t\\xE9s.\"), mdx(\"h4\", null, \"b.3.3.2) Export \\xE0 la fin d'un script\"), mdx(\"p\", null, \"C'est la fa\\xE7on la plus propre d'exporter un seul objet :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"module.exports\\xA0=\\xA0router;\\n\")), mdx(\"p\", null, \"C'est l'\\xE9quivalent d'un \\\"default export\\\" tel que vu en ECMAScript.\"), mdx(\"p\", null, \"S'il y a plusieurs objets \\xE0 exporter, voici la fa\\xE7on recommand\\xE9e de le faire : \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"module.exports\\xA0=\\xA0{authorize,\\xA0users\\xA0};\\n\")), mdx(\"p\", null, \"C'est l'\\xE9quivalent d'un \\\"Named export\\\" tel que vu en ECMAScript.\"), mdx(\"h4\", null, \"b.3.3.3) Export \\xE0 la vol\\xE9e\"), mdx(\"p\", null, \"Il est possible de faire des exports \\xE0 la vol\\xE9e, c'est \\xE0 dire d'exporter des objets au fur et \\xE0 mesure qu'ils sont initialis\\xE9s.\"), mdx(\"p\", null, \"Voici la version longue :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"module.exports.authorize\\xA0=\\xA0authorize;\\nmodule.exports.users\\xA0=\\xA0users\\xA0;\\n\")), mdx(\"p\", null, \"Il est aussi possible d'\\xE9courter une export \\xE0 la vol\\xE9e : \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"exports.authorize\\xA0=\\xA0authorize;\\nexports.users\\xA0=\\xA0users\\xA0;\\n\")), mdx(\"p\", null, \"Voici quelques pr\\xE9cisions :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"module.exports\")), \" : c'est la r\\xE9f\\xE9rence de l'objet retourn\\xE9e par l'appel de \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"required()\")), \" (m\\xE9thode qui sera utilis\\xE9e pour l'import).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"exports\")), \" : c'est la r\\xE9f\\xE9rence vers \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"module.exports\")), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"exports\")), \" n'est pas retourn\\xE9 par l'appel de \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"required()\")), \".\")), mdx(\"p\", null, \"\\u26A1 Il faut faire attention au mauvais usage de l'utilisation de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"exports\")), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Voici une mauvaise utilisation :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"exports\\xA0=\\xA0{\\xA0authorize,\\xA0users\\xA0};\\xA0/*\\xA0exports\\xA0has\\xA0a\\xA0new\\xA0reference,\\xA0\\n                                   it\\xA0is\\xA0no\\xA0longer\\xA0linked\\xA0to\\xA0module.exports */\\n\")), mdx(\"h3\", null, \"b.3.4) Importer des objets\"), mdx(\"h4\", null, \"b.3.4.1) Introduction\"), mdx(\"p\", null, \"Pour utiliser des objets (fonctions, constantes, objets, classes...) au sein d'un script JS provenant de modules, on le fait \\xE0 l'aide de la fonction \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"required()\")), \" et du chemin vers le module \\xE0 utiliser.\"), mdx(\"p\", null, \"Il est possible d'importer tant des objets de modules que l'on a cr\\xE9\\xE9 soi-m\\xEAme, que de packages mis \\xE0 disposition via un gestionnaire de packages.\"), mdx(\"h4\", null, \"b.3.4.2) Import d'un module\"), mdx(\"p\", null, \"Lorsqu'un seul objet a \\xE9t\\xE9 export\\xE9, on l'importe en lui donnant le nom que l'on souhaite \\xE0 l'import et en indiquant le chemin vers le module \\xE0 utiliser.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const\\xA0pizzaRouter\\xA0=\\xA0require('./routes/pizzas');\\n\")), mdx(\"p\", null, \"Lorsque plusieurs objets ont \\xE9t\\xE9 export\\xE9s, on importe ce que l'on souhaite en utilisant des accolades et en indiquant le chemin vers le module \\xE0 utiliser.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const\\xA0{\\xA0users,\\xA0authorize\\xA0}\\xA0=\\xA0require('../utils/auths');\\n\")), mdx(\"h4\", null, \"b.3.4.2) Import d'un package\"), mdx(\"p\", null, \"Il est aussi possible d'importer des objets de packages offerts par la communaut\\xE9 via votre gestionnaire de package.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Pour ce faire, il est juste n\\xE9cessaire d'indiquer le nom du package lors de l'import.\"), mdx(\"p\", null, \"Si un seul objet est export\\xE9 par un package, voici un exemple de comment le r\\xE9cup\\xE9rer :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"//\\xA0module\\xA0integrated\\xA0to\\xA0the\\xA0runtime\\xA0environment\\nconst\\xA0http\\xA0=\\xA0require('http');\\n//\\xA0module\\xA0following package installation\\nconst\\xA0shortid\\xA0=\\xA0require('shortid');\\n\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"b4\"\n  }), \" b.4) Introduction aux packages\"), mdx(\"h3\", null, \"b.4.1) Introduction\"), mdx(\"p\", null, \"Dans le cadre du d\\xE9veloppement d'IHM modernes, au module 2, nous avons d\\xE9couvert le gestionnaire de packages de Node.js. Nous allons r\\xE9sumer les concepts importants ci-dessous.\"), mdx(\"h3\", null, \"b.4.2) Gestionnaire de packages\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"npm\"), \" est le gestionnaire de packages de Node.js. \"), mdx(\"p\", null, \"On peut faire des recherches de packages qui serait utiles \\xE0 nos application web sur \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/\"\n  }, \"npmjs.com\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r48\"\n  }, \"[R.48]\"), \".\"), mdx(\"h3\", null, \"b.4.3) Fichier de configuration d'un projet\"), mdx(\"p\", null, \"Tous les packages associ\\xE9s \\xE0 une app, ses d\\xE9pendances, sont donn\\xE9es dans le fichier : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \".\"), mdx(\"p\", null, \"C'est le fichier qui d\\xE9crit la configuration d'un projet JS.\"), mdx(\"p\", null, \"On peut manuellement cr\\xE9er ce fichier \\xE0 l'aide de la commande \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm init\")), \" si l'on souhaite quelque chose de plus interactif ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm init -y\")), \" si l'on souhaite un fichier avec le minimum autog\\xE9n\\xE9r\\xE9.\"), mdx(\"p\", null, \"Voici un exemple de fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"name\\\": \\\"api2\\\",\\n  \\\"version\\\": \\\"0.0.0\\\",\\n  \\\"private\\\": true,\\n  \\\"scripts\\\": {\\n    \\\"debug\\\": \\\"npm run dev\\\",\\n    \\\"dev\\\": \\\"nodemon ./bin/www\\\",\\n    \\\"start\\\": \\\"node ./bin/www\\\",\\n    \\\"lint\\\": \\\"eslint **/*.js\\\",\\n    \\\"lint:fix\\\": \\\"npm run lint -- --fix\\\"\\n  },\\n  \\\"nodemonConfig\\\": {\\n    \\\"ignore\\\": [\\n      \\\"data/*\\\"\\n    ],\\n    \\\"exec\\\": \\\"npm run lint && node\\\"\\n  },\\n  \\\"dependencies\\\": {\\n    \\\"cookie-parser\\\": \\\"~1.4.4\\\",\\n    \\\"debug\\\": \\\"~2.6.9\\\",\\n    \\\"express\\\": \\\"~4.16.1\\\",\\n    \\\"morgan\\\": \\\"~1.9.1\\\"\\n  },\\n  \\\"devDependencies\\\": {\\n    \\\"eslint\\\": \\\"^8.19.0\\\",\\n    \\\"eslint-config-airbnb-base\\\": \\\"^15.0.0\\\",\\n    \\\"nodemon\\\": \\\"^2.0.19\\\",\\n    \\\"prettier-airbnb-config\\\": \\\"^1.0.0\\\"\\n  },\\n  \\\"author\\\": \\\"e-Baron\\\"\\n}\\n\")), mdx(\"p\", null, \"Lors de l'installation d'un package, celui-ci s'ajoute \\xE0 la liste des d\\xE9pendances.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Ainsi, si des d\\xE9veloppeurs trouvent votre projet sur Git, ils n'auront qu'\\xE0 ex\\xE9cuter \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm i\")), \" afin d'installer toutes les d\\xE9pendances.\"), mdx(\"p\", null, \"C'est dans le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" que toutes les d\\xE9pendances seront install\\xE9es.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Ces d\\xE9pendances peuvent \\xEAtre tr\\xE8s volumineuses. C'est donc important de ne jamais mettre ce dossier sur vos web repository, via Git.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Pour ce faire, n'oubliez pas d'inclure un fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \".gitignore\"), \" dans vos repos pour ignore \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" indique les scripts de d\\xE9marrage, en fonction de la fa\\xE7on dont nous souhaitons d\\xE9marrer l'application.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"  \\\"scripts\\\": {\\n    \\\"debug\\\": \\\"npm run dev\\\",\\n    \\\"dev\\\": \\\"nodemon ./bin/www\\\",\\n    \\\"start\\\": \\\"node ./bin/www\\\",\\n    \\\"lint\\\": \\\"eslint **/*.js\\\",\\n    \\\"lint:fix\\\": \\\"npm run lint -- --fix\\\"\\n  },  \\n\")), mdx(\"p\", null, \"Au regard de cette configuration, on peut d\\xE9marrer l'application \\xE0 l'aide de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm start\")), \" ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm run start\")), \", ce qui ex\\xE9cutera le script \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"./bin/www\")), \" \\xE0 l'aide de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"On pourrait aussi d\\xE9marrer l'application \\xE0 l'aide de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm run dev\")), \", ce qui d\\xE9marrerait l'application \\xE0 l'aide de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"nodemon\"), \", un outil permettant de monitorer les changements de fichiers et de red\\xE9marrer automatiquement le serveur en cas de changement.\"), mdx(\"p\", null, \"NB : nous verrons plus tard cet outil \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"nodemon\"), \" pour simplifier le d\\xE9veloppement.\"), mdx(\"h3\", null, \"b.4.4) Installer un package\"), mdx(\"p\", null, \"Pour installer un package (ou une d\\xE9pendance), il suffit de faire : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm i nomDuPackage\")), \" ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm install nomDuPackage\")), \".\"), mdx(\"h3\", null, \"b.4.5) D\\xE9pendances install\\xE9es\"), mdx(\"p\", null, \"On a vu que \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm i\")), \" permet d'installer toutes les d\\xE9pendances se trouvant dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \", ainsi que toutes les d\\xE9pendances de ces d\\xE9pendances...\"), mdx(\"p\", null, \"L'arbre exact des d\\xE9pendances install\\xE9es, num\\xE9ro de version..., se trouve dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package-lock.json\"), \". Ce fichier est g\\xE9n\\xE9r\\xE9 automatiquement pour chaque op\\xE9ration modifiant \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \".\"), mdx(\"p\", null, \"\\u26A1 Si un fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package-lock.json\"), \" est compris dans un repo, lorsque vous introduirez \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm i\")), \" pour installer toutes les d\\xE9pendances, npm installera les m\\xEAmes versions que celles se trouvant dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package-lock.json\"), \". Cela peut poser des probl\\xE8mes si votre environnement Node.js est en version diff\\xE9rente. En cas de souci, pensez \\xE0 effacer le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" et le fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package-lock.json\"), \" avant de relancer l'installation de toutes les d\\xE9pendances.\"), mdx(\"h3\", null, \"b.4.6) Localisation d'un module ou package par Node\"), mdx(\"p\", null, \"Node va chercher dans tous les chemins sp\\xE9cifi\\xE9s dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"module.paths\"), \" : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \".\"), \"... lorsque \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"required()\")), \" est appel\\xE9.\"), mdx(\"h3\", null, \"b.4.7) Mise \\xE0 jour des packages vers leur derni\\xE8re version\"), mdx(\"p\", null, \"La mise \\xE0 jour de toutes les d\\xE9pendances peut parfois amener \\xE0 des gros soucis.\"), mdx(\"p\", null, \"Vous pouvez tenter de mettre \\xE0 jour tous vos package en suivant la documentation de Node.js :\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://nodejs.dev/learn/update-all-the-nodejs-dependencies-to-their-latest-version\"\n  }, \"Update all the Node.js dependencies to their latest version\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r49\"\n  }, \"[R.49]\")), mdx(\"p\", null, \"Mais attention, certains packages parfois subissent des \\\"breaking changes\\\", ce qui impose que vous deviez faire migrer votre code avant que celui-ci soit fonctionnel.\"), mdx(\"p\", null, \"Nous vous recommandons donc, si vous rencontrer un probl\\xE8me lors de la mise \\xE0 jour de tous vos packages d'un coup, de revenir \\xE0 la situation initiale, et de faire l'upgrade de chaque package list\\xE9 dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" individuellement.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"c\"\n  }), \" c) Introduction \\xE0 Express\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"c1\"\n  }), \"  c.1) Introduction\"), mdx(\"p\", null, \"Voici le moto du framework Express: \\\"Fast, unopinionated, minimalist web framework for Node.js\\\" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://expressjs.com/\"\n  }, \"Express\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r50\"\n  }, \"[R.50]\"), \".\"), mdx(\"p\", null, \"Express est un framework qui permet de rapidement cr\\xE9er des applications en Node.js. \"), mdx(\"p\", null, \"Il est possible de cr\\xE9er une application Express soit \\\"from scratch\\\", soit \\xE0 partir d'un boilerplate.\"), mdx(\"p\", null, \"Dans le cadre de ce cours, nous allons plut\\xF4t utiliser des boilerplates pour g\\xE9n\\xE9rer des applications. N\\xE9anmoins, il est int\\xE9ressant de voir comment cr\\xE9er une application \\\"from scratch\\\".\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"c2\"\n  }), \" c.2) Cr\\xE9er une application Express \\\"from scratch\\\"\"), mdx(\"p\", null, \"Il faut d'abord cr\\xE9er un r\\xE9pertoire pour votre application.\"), mdx(\"p\", null, \"Au sein de votre repo \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"web2\"), \", veuillez cr\\xE9er le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials/express-static-file-server\"), \".\"), mdx(\"p\", null, \"Veuillez, via le terminal, entrer dans ce r\\xE9pertoire.\"), mdx(\"p\", null, \"Pour la suite du tutoriel, nous consid\\xE9rons que tous les chemins absolus d\\xE9marrent du r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials/express-static-file-server\"), \".\"), mdx(\"p\", null, \"Dans ce r\\xE9pertoire, veuillez g\\xE9n\\xE9rer le fichier de configuration du projet (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \") : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm init\")), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Veuillez r\\xE9pondre aux questions pour configurer le point d'entr\\xE9e de l'application comme \\xE9tant le script \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"index.js\"), \".\"), mdx(\"p\", null, \"Veuillez configurer le script de d\\xE9marrage de votre application en ajoutant cette ligne au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\",\n    \"metastring\": \"{2}\",\n    \"{2}\": true\n  }, \"  \\\"scripts\\\": {\\n    \\\"start\\\": \\\"node index.js\\\",\\n\")), mdx(\"p\", null, \"Ainsi, notre application pourra d\\xE9marrer \\xE0 l'aide de la commande \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm start\")), \".\"), mdx(\"p\", null, \"A ce stade-ci, voil\\xE0 \\xE0 quoi devrait ressembler votre \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"name\\\": \\\"express-static-file-server\\\",\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\\"description\\\": \\\"\\\",\\n  \\\"main\\\": \\\"index.js\\\",\\n  \\\"scripts\\\": {\\n    \\\"start\\\": \\\"node index.js\\\",\\n    \\\"test\\\": \\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\"\\n  },\\n  \\\"author\\\": \\\"yourName\\\",\\n  \\\"license\\\": \\\"ISC\\\"\\n}\\n\")), mdx(\"p\", null, \"Veuillez installer Express, son package : \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm i express\\n\")), mdx(\"p\", null, \"Nous allons cr\\xE9er un simple serveur de fichiers statiques \\xE0 l'aide du middleware \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express.static\"), \", afin de servir tous les fichiers qui se trouveront dans le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"public\"), \".\"), mdx(\"p\", null, \"Tout d'abord, t\\xE9l\\xE9chargez ce zip : \", mdx(LinkFile, {\n    name: \"public.zip\",\n    target: \"_blank\",\n    download: true,\n    mdxType: \"LinkFile\"\n  }, \"fichiers statiques\"), \".\"), mdx(\"p\", null, \"Veuillez d\\xE9sarchiver ce r\\xE9pertoire dans votre projet afin d'avoir les fichiers statiques qui seront partag\\xE9s par votre serveur au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/public\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"V\\xE9rifiez bien que vous n'avez qu'un seul r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/public\"), \" et pas un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/public/public\"), \".\"), mdx(\"p\", null, \"Il ne reste plus qu'\\xE0 cr\\xE9er le serveur. Veuillez cr\\xE9er le fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/index.js\"), \" et y ajouter ce code :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const express = require('express');\\nconst app = express();\\n\\napp.use(express.static('public'));\\n\\nconst PORT = 7777;\\n\\napp.listen(PORT, () => {\\n  console.log(`Server running on port ${PORT}`);\\n});\\n\")), mdx(\"p\", null, \"On voit que juste cette ligne permet la mise en place d'un serveur de fichier statique, via le middleware \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express.static\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"app.use(express.static('public'));\\n\")), mdx(\"p\", null, \"Et pour d\\xE9marrer un serveur web qui \\xE9coute sur le port \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"7777\"), \", ces lignes sont suffisantes :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"app.listen(PORT, () => {\\n  console.log(`Server running on port ${PORT}`);\\n});\\n\")), mdx(\"p\", null, \"Veuillez lancer l'application en tapant cela dans votre terminal au sein du r\\xE9pertoire du projet :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm start\\n\")), mdx(\"p\", null, \"Pour acc\\xE9der au serveur de fichiers, vous pouvez le faire via un browser : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:7777\"\n  }, \"http://localhost:7777\")), mdx(\"p\", null, \"Si tout se passe bien, vous devriez avoir acc\\xE8s au site de la pizzeria d\\xE9velopp\\xE9 au module 1 de ce cours.\"), mdx(\"p\", null, \"Si tout fonctionne bien, faites un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre repo (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"web2\"), \") avec le message \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express-static-file-server\"), \"\\\".\"), mdx(\"p\", null, \"En cas de souci, vous pouvez acc\\xE9der au code de cette d\\xE9mo ici :\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/express-static-file-server/\"\n  }, \"express-static-file-server\"), \".\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"c3\"\n  }), \" c.3) Cr\\xE9er une application Express via un g\\xE9n\\xE9rateur\"), mdx(\"p\", null, \"Le g\\xE9n\\xE9rateur d'applications \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express-generator\"), \" permet de g\\xE9n\\xE9rer le boilerplate d'une application Express de base.\"), mdx(\"p\", null, \"A l'aide du g\\xE9n\\xE9rateur d'applications Express, vous allez cr\\xE9er une application Express sans \\\"view engine\\\" car nous n'allons pas faire du Server Side Rendering dans le cadre de ce cours.\"), mdx(\"p\", null, \"Veuillez ouvrir un terminal au sein de VS Code au niveau du r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials\"), \".\"), mdx(\"p\", null, \"Ensuite, cr\\xE9ez une application nomm\\xE9e \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"basic-generated-app\"), \" en tapant :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npx express-generator --no-view basic-generated-app\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"npx\"), \" permet de directement ex\\xE9cuter un package en mode de commandes en installant une copie locale et temporaire de ce package (et de ses d\\xE9pendances).\"), mdx(\"p\", null, \"Veuillez installer les d\\xE9pendances de votre app et la d\\xE9marrer :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"cd basic-generated-app\\nnpm i \\nnpm start\\n\")), mdx(\"p\", null, \"Si vous copier / coller le contenu du r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/public\"), \" du tutoriel pr\\xE9c\\xE9dent dans le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"public\"), \" g\\xE9n\\xE9r\\xE9, l'application fournira le m\\xEAme r\\xE9sultat que la pr\\xE9c\\xE9dente, mais sur un port diff\\xE9rent : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:3000\"\n  }, \"http://localhost:3000\"), \".\"), mdx(\"p\", null, \"Nous allons d\\xE9couvrir en d\\xE9tails ce qui a \\xE9t\\xE9 g\\xE9n\\xE9r\\xE9 par \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express-generator\"), \" un peu plus tard.\"), mdx(\"p\", null, \"Actuellement, on remarquera : \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"le point d'entr\\xE9e de l'application est \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"./bin/www\"), \" au regard de \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"package.json\"), \";\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"que \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"./bin/www\"), \" d\\xE9marre un serveur web sur le port \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"3000\"), \" en lui demandant de s'occuper de d\\xE9marrer tous les middlewares en lui passant tout ce qui est export\\xE9 de \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"app.js\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"app.js\"), \" met aussi \\xE0 disposition un serveur de fichier statiques servant le contenu du r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"public\"), \".\")), mdx(\"p\", null, \"Avant d'aller dans les d\\xE9tails d'Express que nous souhaitons utiliser pour d\\xE9velopper des services web de type RESTful, nous allons voir ce que nous entendons par RESTful.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"d\"\n  }), \" d) Introduction aux RESTful API\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"d1\"\n  }), \" d.1) Introduction\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"REST\"), \" vient de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"RE\"), \"presentational \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"S\"), \"tate \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"T\"), \"ransfer : c'est un style architectural pour construire des applications web extensibles, o\\xF9 les client et serveurs sont s\\xE9par\\xE9s.\"), mdx(\"p\", null, \"Dans une application REST, une \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"interface uniforme\"), \" (ou API) est d\\xE9finie afin de permettre \\xE0 des applications de coop\\xE9rer.\"), mdx(\"p\", null, \"Toute application REST se doit d'\\xEAtre \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stateless\"), \" : il n'y a pas d'enregistrement du contexte d'une session sur le serveur pour comprendre une requ\\xEAte d'un client.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Ainsi, les requ\\xEAtes clientes ne d\\xE9pendent pas d'un historique de requ\\xEAtes, elles sont autoportantes.\"), mdx(\"p\", null, \"Une RESTful API met \\xE0 disposition des \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"op\\xE9rations\"), \" sur des \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ressources\"), \" via :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"des \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"URI\"), \" ; il y a donc une adresse unique pur chaque ressource ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"des \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"m\\xE9thodes HTTP\"), \" (GET, POST, DELETE, PATCH, PUT) repr\\xE9sentant les op\\xE9rations possibles (CRUD, op\\xE9rations de type Create, Read, Update ou Delete) ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"des \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"repr\\xE9sentations\"), \" des ressources compr\\xE9hensibles tant par les clients que les serveurs ; les ressources sont repr\\xE9sent\\xE9es par leur \\\"Media type\\\" : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"JSON\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"XML\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"HTML\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"TXT\"), \", \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"JPEG\"), \"... ; dans le cadre de ce cours, les ressources seront quasi toujours repr\\xE9sent\\xE9es via du \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"JSON\"), \".\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"d2\"\n  }), \" d.2) Conventions REST\"), mdx(\"p\", null, \" Le type d'op\\xE9ration CRUD (Create, Read, Update ou Delete) sur une ressource est d\\xE9fini via la m\\xE9thode http de la requ\\xEAte.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Les op\\xE9rations possibles sont :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"GET = Read\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"POST = Create\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"DELETE = Delete \\uD83D\\uDE09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PATCH / PUT = Update\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PATCH = Update d'une ou plusieurs propri\\xE9t\\xE9s de la ressources\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PUT = Update de toutes les propri\\xE9t\\xE9s de la ressources, ou cr\\xE9ation si la ressource n'existe pas\")))), mdx(\"p\", null, \"Voici un exemple d'application de ces conventions REST dans le cadre d'une RESTful API permettant de g\\xE9rer des films :\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"URI\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"M\\xE9thode HTTP\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Op\\xE9ration\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"READ ALL : Lire toutes les ressources de la collection\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films?minimum-duration=value\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donn\\xE9\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films/{id}\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"READ ONE : Lire la ressource identifi\\xE9e\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"CREATE ONE : Cr\\xE9er une ressource bas\\xE9e sur les donn\\xE9es de la requ\\xEAte\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films/{id}\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"DELETE\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"DELETE ONE : Effacer la ressource identifi\\xE9e\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films/{id}\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"PUT\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"UPDATE ONE : Remplacer l'enti\\xE8ret\\xE9 de la ressource par les donn\\xE9es de la requ\\xEAte\")))), mdx(\"p\", null, \"Si cette API est h\\xE9berg\\xE9e \\xE0 l'URL racine \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"http://ilovemoovies.org\"\n  }, \"http://ilovemoovies.org\")), \", alors nous pourrions identifier une ressource de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"films\"), \" de cette fa\\xE7ons : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"http://ilovemoovies.org/films/10\"\n  }, \"http://ilovemoovies.org/films/10\")), \".\"), mdx(\"p\", null, \"Pour lire cette ressource, il faudrait faire une requ\\xEAte http de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GET\"), \" sur cette \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"URL\"), \" : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"http://ilovemoovies.org/films/10\"\n  }, \"http://ilovemoovies.org/films/10\")), \".\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"e\"\n  }), \" d) Introduction aux RESTful API via Express\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e1\"\n  }), \" e.1) Introduction\"), mdx(\"p\", null, \"Nous avons pr\\xE9c\\xE9demment g\\xE9n\\xE9r\\xE9 une application Express \\xE0 l'aide du g\\xE9n\\xE9rateur d'applications.\"), mdx(\"p\", null, \"Veuillez avoir devant vous le code de cette application car nous allons d\\xE9couvrir le r\\xF4le des r\\xE9pertoires et fichiers importants g\\xE9n\\xE9r\\xE9s par \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express-generator\"), \".\"), mdx(\"p\", null, \"Nous allons maintenant nous attarder \\xE0 comprendre les concepts associ\\xE9s \\xE0 l'utilisation d'Express, mais en focalisant sur ceux utiles aux applications REST.\"), mdx(\"p\", null, \"Voici comment une requ\\xEAte faite \\xE0 une application Express est trait\\xE9e :\"), mdx(ScrollableImage, {\n    name: \"express-flow.png\",\n    minWidth: \"800px\",\n    maxWidth: \"800px\",\n    mdxType: \"ScrollableImage\"\n  }), mdx(\"figcaption\", null, \"Flux d'une requ\\xEAte vers une application Express [R.51]\"), mdx(\"p\", null, \"Dans ce flux de traitement d'une requ\\xEAte, la responsabilit\\xE9 des d\\xE9veloppeurs est de s'occuper de la partie \\\"Middleware\\\".\"), mdx(\"p\", null, \"La grande majorit\\xE9 du code \\xE9crit sera du \\\"routing middleware\\\" : notre code s'occupera de r\\xE9pondre \\xE0 des requ\\xEAtes clientes pour diff\\xE9rentes URLs et m\\xE9thodes HTTP (GET, POST...).\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e2\"\n  }), \" e.2) Configuration et d\\xE9marrage d'une application Express\"), mdx(\"p\", null, \"On l'a d\\xE9j\\xE0 vu, la configuration d'une application Express, comme toutes applications Node.js, est faite au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \".\"), mdx(\"p\", null, \"En fonction de comment est configur\\xE9 l'application, on la d\\xE9marrera via \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"npm start\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"npm run dev\"), \"...\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e3\"\n  }), \" e.3) Serveur web int\\xE9gr\\xE9\"), mdx(\"p\", null, \"Un serveur web int\\xE9gr\\xE9 \\xE0 nos applications Express est d\\xE9marr\\xE9 au sein du fichier \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"bin/www\"), \".\"), mdx(\"p\", null, \"C'est ce fichier que vous devez mettre \\xE0 jour si par exemple vous souhaitez que votre application fonctionne sur un port diff\\xE9rent que le port par d\\xE9faut \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"3000\"), \".\"), mdx(\"p\", null, \"Un serveur int\\xE9gr\\xE9 est diff\\xE9rent d'une application web offerte par un serveur standalone comme Apache, Tomcat... C'est un serveur tr\\xE8s l\\xE9ger d\\xE9di\\xE9 \\xE0 votre application.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e4\"\n  }), \" e.4) Les fonctions middleware en Express\"), mdx(\"h3\", null, \"e.4.1) C'est quoi une fonction middleware ?\"), mdx(\"p\", null, \"Les fonctions middleware s'occupent du traitement des requ\\xEAtes des clients et de la pr\\xE9paration des r\\xE9ponses :\"), mdx(ScrollableImage, {\n    name: \"middlewares.jpg\",\n    minWidth: \"638px\",\n    maxWidth: \"638px\",\n    mdxType: \"ScrollableImage\"\n  }), mdx(\"figcaption\", null, \"Les fonctions Middleware et Express [R.52]\"), mdx(\"p\", null, \"Une fonction du middleware a acc\\xE8s aux objets de la requ\\xEAte et de la r\\xE9ponse et peut modifier la requ\\xEAte et la r\\xE9ponse pour ajouter, par exemple, un log, pour autoriser un utilisateur, pour parser des donn\\xE9es Json vers des objets JS, pour servir des fichiers statiques, pour faire un traitement pour une route bien sp\\xE9cifique...\"), mdx(\"p\", null, \"Si une fonction du middleware ne termine pas le cycle de requ\\xEAte-r\\xE9ponse, elle doit appeler \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"next()\")), \" pour permettre \\xE0 d'autres fonctions qui sont dans la queue de pouvoir \\xEAtre ex\\xE9cut\\xE9es.\"), mdx(\"p\", null, \"Voici les \\xE9l\\xE9ments associ\\xE9s \\xE0 l'appel d'une fonction middleware :\"), mdx(ScrollableImage, {\n    name: \"middleware-function.png\",\n    minWidth: \"944px\",\n    maxWidth: \"944px\",\n    mdxType: \"ScrollableImage\"\n  }), mdx(\"figcaption\", null, \"Une fonction middleware [R.53]\"), mdx(\"p\", null, \"Il existe diff\\xE9rent types de fonctions middleware ayant diff\\xE9rents cas d'utilisation :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Application-level middleware : la fonction middleware est li\\xE9e \\xE0 l'objet \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"app\"), \" ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Router-level middleware : la fonction middleware est li\\xE9e \\xE0 un objet de type \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"express.router()\"), \", elle est tr\\xE8s similaire au \\\"application-level middleware\\\" ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Error-handling middleware : fonction de gestion des erreurs qui se d\\xE9finit comme les fonctions app ou router level middleware, mais qui contient un quatri\\xE8me param\\xE8tre nomm\\xE9 \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"error\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Built-in middleware : fonctions middleware mises \\xE0 disposition par Express directement :\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"express.static\"), \" : pour servir des assets statiques ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"express.json\"), \" : pour parser le body de requ\\xEAtes en JSON vers des objets JS ;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"express.urlencoded\"), \" : pour parser des requ\\xEAtes dont le body est de type \\\"urlencoded\\\" (type par d\\xE9faut des formulaires) vers des objets JS. \"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Third-party middleware : fonctions mises \\xE0 disposition par la communaut\\xE9 et installables via npm, comme par exemple la fonction middleware \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"cookieParser\"), \".\")), mdx(\"p\", null, \"Si vous souhaitez approfondir, nous vous conseillons \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://expressjs.com/en/guide/using-middleware.html#middleware.third-party\"\n  }, \"la documentation d'Express\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r54\"\n  }, \"[R.54]\"), \".\"), mdx(\"p\", null, \"La suite fournit quelques exemples de fonctions middleware qui seront plus tard rencontr\\xE9es dans notre code ou extraits de \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r54\"\n  }, \"[R.54]\"), \".\"), mdx(\"h3\", null, \"e.4.2) Application-level middleware : exemple\"), mdx(\"p\", null, \"Voici une fonction middleware qui sera ex\\xE9cut\\xE9e \\xE0 chaque fois qu'il y a une requ\\xEAte, quelque soit le chemin (ou path) associ\\xE9 \\xE0 la requ\\xEAte :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var\\xA0express\\xA0=\\xA0require('express');\\nvar\\xA0app\\xA0=\\xA0express();\\napp.use((req,\\xA0res,\\xA0next) =>\\xA0{\\n\\xA0\\xA0console.log('Time:',\\xA0Date.now());\\n\\xA0\\xA0next();\\n});\\n\")), mdx(\"h3\", null, \"e.4.3) Router-level middleware : exemple\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var\\xA0router\\xA0=\\xA0express.Router();\\n\\nrouter.use((req,\\xA0res,\\xA0next)\\xA0=> {\\n\\xA0\\xA0console.log('Time:'',\\xA0Date.now());\\n\\xA0\\xA0next();\\n});\\n\\nrouter.get('/',(req,\\xA0res,\\xA0next)\\xA0=> {\\n\\xA0\\xA0return\\xA0res.json(menu);\\n});\\n\")), mdx(\"p\", null, \"La premi\\xE8re fonction middleware ne contient pas de m\\xE9thode HTTP, ni de chemin, elle s'applique donc \\xE0 toutes les routes associ\\xE9es au router.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var pizzaRouter = require('./routes/pizzas');\\napp.use('/pizzas', pizzaRouter);\\n\")), mdx(\"p\", null, \"Si le router est utilis\\xE9 de cette fa\\xE7on, la premi\\xE8re fonction s'applique donc \\xE0 toutes les routes qui commencent par '/pizzas'.\"), mdx(\"p\", null, \"La deuxi\\xE8me fonction middleware s'appliquent seulement aux requ\\xEAtes de type GET sur la route (ou le chemin) '/pizzas' (\\xE9quivalent de la route '/pizzas/').\"), mdx(\"h3\", null, \"e.4.4) Error-handling middleware : exemple\"), mdx(\"p\", null, \"Ce type de middleware est \\xE0 d\\xE9finir apr\\xE8s tous les middlewares pouvant g\\xE9n\\xE9rer une erreur et est appel\\xE9 via \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"next(err)\")), \" dans une fonction middleware o\\xF9 un souci est d\\xE9tect\\xE9.\"), mdx(\"p\", null, \"Voici la d\\xE9finition d'un \\\"error handler\\\" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"app.use((err, req, res, next) => {\\n  console.error(err.stack)\\n  res.status(500).send('Something broke!')\\n});\\n\")), mdx(\"p\", null, \"Attention, il y a bien 4 param\\xE8tres au lieu des 3 habituels pour les autres types de fonctions middleware.\"), mdx(\"h3\", null, \"e.4.5) Built-in middleware & third-party middleware : exemple\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var express = require('express');\\nvar path = require('path');\\nvar cookieParser = require('cookie-parser');\\nvar logger = require('morgan');\\n\\nvar app = express();\\n\\napp.use(logger('dev')); //\\xA0HTTP request logger\\napp.use(express.json()); //\\xA0Parse requests with JSON payloads\\napp.use(express.urlencoded({ extended: false })); //\\xA0Parse requests with URL-\\n                                                  // encoded payload \\napp.use(cookieParser()); //\\xA0Parse cookie header (req.cookies)\\napp.use(express.static(path.join(__dirname, 'public'))); //\\xA0Serve static assets\\n\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e5\"\n  }), \" e.5) D\\xE9finition d'une route en Express\"), mdx(\"h3\", null, \"e.5.1) D\\xE9finition d'une route\"), mdx(\"p\", null, \"Le \\\"Routing\\\", ou routage, contr\\xF4le la r\\xE9ponse \\xE0 une requ\\xEAte client pour un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"endpoint\"), \" / \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"URI\"), \" / \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"PATH\"), \" et une m\\xE9thode HTTP.\"), mdx(\"p\", null, \"On va d\\xE9finir une route soit sur l'objet \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"app\"), \", soit sur un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"router\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Un objet de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"router\"), \" permet de regrouper toutes les routes associ\\xE9es \\xE0 un type de ressources.\"), mdx(\"p\", null, \"On d\\xE9finit une route de cette fa\\xE7on : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"app.\"), \" ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"router.\"), \"  \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"METHOD(PATH, MIDDLEWARE_FUNCTION)\"), \".\"), mdx(\"p\", null, \"\\uD83D\\uDC4D Dans notre cours, nous vous recommandons d'organiser vos routes par type de ressources et donc de mettre en place un router.\"), mdx(\"h3\", null, \"e.5.2) Cr\\xE9ation d'un projet\"), mdx(\"p\", null, \"Nous allons maintenant r\\xE9aliser un tutoriel pour cr\\xE9er notre toute premi\\xE8re RESTful API.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Nous allons cr\\xE9er une API pour permettre \\xE0 notre site web de la pizzeria de b\\xE9n\\xE9ficier d'op\\xE9rations sur des ressources de type \\\"pizzas\\\".\"), mdx(\"p\", null, \"Dans votre repo \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"web2\"), \", veuillez cr\\xE9er le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials/pizzeria/api\"), \".\"), mdx(\"p\", null, \"Veuillez ouvrir un terminal au niveau de ce r\\xE9pertoire.\"), mdx(\"p\", null, \"Dans ce r\\xE9pertoire, veuillez g\\xE9n\\xE9rer une application express nomm\\xE9e \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"basic\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Pour ce faire :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npx express-generator --no-view basic\\n\")), mdx(\"p\", null, \"Veuillez installer les d\\xE9pendances :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"cd basic\\nnpm i\\n\")), mdx(\"p\", null, \"Pour la suite du tutoriel, nous consid\\xE9rons que tous les chemins absolus d\\xE9marrent du r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials/pizzeria/api/basic\"), \" (ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/web2/tutorials/pizzeria/api/basic\"), \" si l'on consid\\xE8re le nom du r\\xE9pertoire du repo).\"), mdx(\"p\", null, \"Nous allons d\\xE9velopper des RESTful API qui ne poss\\xE8dent pas de serveur de fichiers statiques.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"On n'a donc pas besoin d'avoir un r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/public\"), \" ni d'un serveur statique.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"On peut donc effacer le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/public\"), \" et supprimer le middleware de serveur de fichiers statiques au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/app.js\"), \" : \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"app.use(express.static(path.join(__dirname, 'public'))); \\n\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e6\"\n  }), \" e.6) Op\\xE9ration de lecture\"), mdx(\"p\", null, \"Nous souhaitons par commencer \\xE0 d\\xE9velopper une op\\xE9ration permettant de lire toutes les ressources de type \\\"pizzas\\\". En effet, nous aimerions plus tard que notre IHM re\\xE7oive de notre API le menu des pizzas.\"), mdx(\"p\", null, \"Veuillez cr\\xE9er un router pour traiter des ressources \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/pizzas\"), \" au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Le plus simple est d'adapter \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"indexRouter\"), \" dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"app.js\"), \" en \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzaRouter\"), \" et \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routers/index.js\"), \" en \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Il est aussi possible de partir de rien et de cr\\xE9er \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzaRouter\"), \" dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"app.js\"), \" et \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \".\"), mdx(\"p\", null, \"Pour l'op\\xE9ration de lecture de toutes les pizzas, selon les conventions REST, il faut faire une requ\\xEAte de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GET /pizzas\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \" doit donc offrir une route renvoyant toutes les pizzas qui existent dans le menu.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Pour d\\xE9marrer, nous souhaitons une application basique qui ne g\\xE8re pas la persistance des donn\\xE9es. Le menu est donc un Array d'objets, dont chaque objet repr\\xE9sente une pizza.\"), mdx(\"p\", null, \"Notre op\\xE9ration de lecture de pizza va renvoyer du JSON au client, c'est \\xE0 dire une repr\\xE9sentation textuelle du menu. Nous verrons plus tard ce qu'est r\\xE9ellement le JSON. A ce stade-ci, il est suffisant de conna\\xEEtre la fonction d'Express qui permet \\xE0 un objet JS de circuler sur le r\\xE9seau : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"res.json()\"), \".\"), mdx(\"p\", null, \"Voici le code du router \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var express = require('express');\\nvar router = express.Router();\\n\\nconst MENU = [\\n  {\\n    id: 1,\\n    title: '4 fromages',\\n    content: 'Gruy\\xE8re, S\\xE9rac, Appenzel, Gorgonzola, Tomates',\\n  },\\n  {\\n    id: 2,\\n    title: 'Vegan',\\n    content: 'Tomates, Courgettes, Oignons, Aubergines, Poivrons',\\n  },\\n  {\\n    id: 3,\\n    title: 'Vegetarian',\\n    content: 'Mozarella, Tomates, Oignons, Poivrons, Champignons, Olives',\\n  },\\n  {\\n    id: 4,\\n    title: 'Alpage',\\n    content: 'Gruy\\xE8re, Mozarella, Lardons, Tomates',\\n  },\\n  {\\n    id: 5,\\n    title: 'Diable',\\n    content: 'Tomates, Mozarella, Chorizo piquant, Jalapenos',\\n  },\\n];\\n\\n// Read all the pizzas from the menu\\nrouter.get('/', (req, res, next) => {\\n  console.log('GET /pizzas');\\n  res.json(MENU);\\n});\\n\\nmodule.exports = router;\\n\")), mdx(\"p\", null, \"Et voici le code de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"app.js\"), \" (les parties modifi\\xE9es sont surlign\\xE9es) :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\",\n    \"metastring\": \"numbered {6,16}\",\n    \"numbered\": true,\n    \"{6,16}\": true\n  }, \"var express = require('express');\\nvar path = require('path');\\nvar cookieParser = require('cookie-parser');\\nvar logger = require('morgan');\\n\\nvar pizzaRouter = require('./routes/pizzas');\\nvar usersRouter = require('./routes/users');\\n\\nvar app = express();\\n\\napp.use(logger('dev'));\\napp.use(express.json());\\napp.use(express.urlencoded({ extended: false }));\\napp.use(cookieParser());\\n\\napp.use('/pizzas', pizzaRouter);\\napp.use('/users', usersRouter);\\n\\nmodule.exports = app;\\n\")), mdx(\"p\", null, \"Notons que nous pourrions effacer le router s'occupant des ressources de type \\\"users\\\", mais nous pr\\xE9f\\xE9rons le garder car plus tard nous souhaiterons g\\xE9rer l'authentification d'utilisateurs.\"), mdx(\"p\", null, \"Veuillez d\\xE9marrer l'API (par d\\xE9faut elle est configur\\xE9e sur le port 3000 au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"bin/www\"), \") :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm start\\n\")), mdx(\"p\", null, \"Pour consommer l'op\\xE9ration de lecture via un browser, nous pouvons lire toutes les ressources de type \\\"pizzas\\\" ici :\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:3000/pizzas\"\n  }, \"http://localhost:3000/pizzas\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e7\"\n  }), \" e.7) Chemin et param\\xE8tres de route\"), mdx(\"p\", null, \"Les \\\"route parameters\\\" sont des segments d'une URL qui sont utilis\\xE9s pour capturer une valeur sp\\xE9cifi\\xE9e \\xE0 leur position dans l'URL. On r\\xE9cup\\xE8re ces param\\xE8tres via l'objet \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"req.params\"), \".\"), mdx(\"p\", null, \"Pour notre pizzeria, nous souhaitons pouvoir lire une pizza identifi\\xE9e par son \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"id\"), \".\"), mdx(\"p\", null, \"Nous allons donc ajouter le param\\xE8tre de route \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"id\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"En respect des conventions REST, un client, pour faire appel \\xE0 cette op\\xE9ration, devra faire une requ\\xEAte du genre : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GET /pizzas/2\"), \".\"), mdx(\"p\", null, \"Voici la nouvelle route permettant de traiter de cette op\\xE9ration, \\xE0 ajouter dans le router \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizza.js\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// Read the pizza identified by an id in the menu\\nrouter.get('/:id', (req, res) => {\\n  console.log(`GET /pizzas/${req.params.id}`);\\n\\n  const indexOfPizzaFound = MENU.findIndex((pizza) => pizza.id == req.params.id);\\n\\n  if (indexOfPizzaFound < 0) return res.sendStatus(404);\\n\\n  res.json(MENU[indexOfPizzaFound]);\\n});\\n\")), mdx(\"p\", null, \"Veuillez red\\xE9marrer l'API (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"CTRL c\")), \" puis \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm start\")), \").\"), mdx(\"p\", null, \"Pour consommer cette nouvelle op\\xE9ration via un browser, nous pouvons lire la ressource de type \\\"pizzas\\\" identifi\\xE9e par \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"2\"), \" dans le menu ainsi :\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:3000/pizzas/2\"\n  }, \"http://localhost:3000/pizzas/2\")), mdx(\"p\", null, \"Le browser fait bien une requ\\xEAte du genre : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GET /pizzas/2\"), \".\"), mdx(\"p\", null, \"Le param\\xE8tre de la route \\\"2\\\" est r\\xE9cup\\xE9r\\xE9 dans l'URL de la route par Express et est offert via \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"req.params.id\")), \". \"), mdx(\"p\", null, \"N'h\\xE9sitez pas \\xE0 faire une requ\\xEAte pour un identifiant n'existant pas de le menu pour voir ce qui se passe : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:3000/pizzas/666\"\n  }, \"http://localhost:3000/pizzas/666\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e8\"\n  }), \" e.8) Chemin et param\\xE8tres de requ\\xEAte\"), mdx(\"p\", null, \"Les \\\"query parameters\\\" sont des param\\xE8tres qui peuvent \\xEAtre ajout\\xE9s \\xE0 une URL.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"On r\\xE9cup\\xE8re ces param\\xE8tres via l'objet \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"req.query\"), \".\"), mdx(\"p\", null, \"Pour notre pizzeria, nous souhaitons pouvoir lire toutes les ressources de type \\\"pizzas\\\" tri\\xE9es par ordre ascendant ou descendant du titre.\"), mdx(\"p\", null, \"En respect des conventions REST, un client, pour faire appel \\xE0 cette op\\xE9ration, devra faire une requ\\xEAte du genre : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GET /pizzas?order=title\"), \" pour le tri ascendant ou \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GET /pizzas?order=-title\"), \" pour le tri descendant .\"), mdx(\"p\", null, \"Il n'y a donc pas de nouvelle route \\xE0 ajouter ici. En effet, \\xE7a reste une requ\\xEAte de type GET sur la route \\\"/pizzas\\\". \"), mdx(\"p\", null, \"Veuillez donc mettre \\xE0 jour \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizza.js\"), \" pour la lecture de toutes les pizzas :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"/* Read all the pizzas from the menu\\n   GET /pizzas?order=title\\xA0:\\xA0ascending order\\xA0by\\xA0title\\n\\xA0  GET /pizzas?order=-title\\xA0:\\xA0descending order\\xA0by\\xA0title\\n*/\\nrouter.get('/', (req, res, next) => {\\n  const orderByTitle =\\n    req?.query?.order?.includes('title')\\n      ? req.query.order\\n      : undefined;\\n  let orderedMenu;\\n  console.log(`order by ${orderByTitle ?? 'not requested'}`);\\n  if (orderByTitle)\\n    orderedMenu = [...MENU].sort((a, b) => a.title.localeCompare(b.title));\\n  if (orderByTitle === '-title') orderedMenu = orderedMenu.reverse();\\n\\n  console.log('GET /pizzas');\\n  res.json(orderedMenu ?? MENU);\\n});\\n\")), mdx(\"p\", null, \"Veuillez red\\xE9marrer l'API (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"CTRL c\")), \" puis \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"npm start\")), \").\"), mdx(\"p\", null, \"Pour consommer cette nouvelle op\\xE9ration via un browser, nous pouvons lire toutes les ressources de type \\\"pizzas\\\" tri\\xE9e par leur titre de mani\\xE8re descendante ainsi :\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:3000/pizzas?order=-title\"\n  }, \"http://localhost:3000/pizzas?order=-title\"), \".\"), mdx(\"p\", null, \"N'h\\xE9sitez pas \\xE0 tester d'autres tris.\"), mdx(\"p\", null, \"\\uD83D\\uDCAD Est-ce qu'il y a un morceau de code que vous ne comprenez pas dans ce code-ci et cela vous g\\xEAne ? Si oui, vous trouverez plus d'info ici : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#f2\"\n  }, \"f.2) Spread operator au niveau d'un array\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Si non, c'est OK de ne pas comprendre tous les \\xE9l\\xE9ments du code \\xE0 ce stade-ci.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e9\"\n  }), \" e.9) Op\\xE9ration de cr\\xE9ation & parsing du body\"), mdx(\"p\", null, \"Nous souhaitons d\\xE9velopper une op\\xE9ration permettant de cr\\xE9er une ressource de type \\\"pizzas\\\".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Selon les conventions REST, il faut faire une requ\\xEAte de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"POST /pizzas\"), \" qui offre une repr\\xE9sentation de la ressource \\xE0 cr\\xE9er. La repr\\xE9sentation utilis\\xE9e est le JSON que nous verrons plus en d\\xE9tails plus tard.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Si nous souhaitons cr\\xE9er une ressource dont le titre est \\\"Magic Green\\\" et le contenu est \\\"Epinards, Brocolis, Olives vertes, Basilic\\\", la repr\\xE9sentation de la ressource \\xE0 cr\\xE9er sera la suivante :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"title\\\":\\\"Magic Green\\\",\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\n}\\n\")), mdx(\"p\", null, \"Selon les conventions REST, une requ\\xEAte de cr\\xE9ation est de type POST et contient ses param\\xE8tres\\nau sein du body de la requ\\xEAte.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \" doit offrir une nouvelle route permettant d'ajouter une nouvelle pizza au menu, qui est un array d'objets. Une nouvelle pizza doit donc \\xEAtre ajout\\xE9e \\xE0 une variable, un array, qui est contenu dans la m\\xE9moire vive de votre machine.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Lorsque l'ajout d'une pizza au menu a r\\xE9ussi, nous souhaitons renvoyer la repr\\xE9sentation de la nouvelle ressource au client. Ainsi, le client aura notamment acc\\xE8s \\xE0 l'id de la pizza cr\\xE9\\xE9 par l'API.\"), mdx(\"p\", null, \"Voici le code du router \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \" pour la nouvelle op\\xE9ration, veuillez le rajouter dans votre application :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// Create a pizza to be added to the menu.\\nrouter.post('/', (req, res) => {\\n  const title = req?.body?.title?.length !== 0 ? req.body.title : undefined;\\n  const content = req?.body?.content?.length !== 0 ? req.body.content : undefined;\\n\\n  console.log('POST /pizzas');\\n\\n  if (!title || !content) return res.sendStatus(400); // error code '400 Bad request'\\n\\n  const lastItemIndex = MENU?.length !== 0 ? MENU.length - 1 : undefined;\\n  const lastId = lastItemIndex ? MENU[lastItemIndex]?.id : undefined;\\n  const nextId = lastItemIndex !== 0 ? lastId + 1 : 1;\\n\\n  const newPizza = {\\n    id: nextId,\\n    title: title,\\n    content: content,\\n  };\\n\\n  MENU.push(newPizza);\\n\\n  res.json(newPizza);\\n});\\n\")), mdx(\"p\", null, \"La repr\\xE9sentation de la ressource \\xE0 cr\\xE9er est pars\\xE9e dans l'objet \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"req.body\"), \" gr\\xE2ce \\xE0 la fonction middleware \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"express.json()\"), \" appel\\xE9e dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/app.js\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"app.use(express.json());\\n\")), mdx(\"p\", null, \"Il est donc important de ne pas retirer cette ligne lorsque l'on cr\\xE9e une RESTful API.\"), mdx(\"p\", null, \"OK, c'est bien, mais comment tester ce nouveau code ?\"), mdx(\"p\", null, \"Le browser permet de facilement cr\\xE9er des requ\\xEAtes de type GET, mais pas des requ\\xEAtes de type POST...\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Nous avons donc besoin d'un client l\\xE9ger permettant de faire des requ\\xEAtes HTTP.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e10\"\n  }), \" e.10) Client REST\"), mdx(\"h3\", null, \"e.10.1) Introduction\"), mdx(\"p\", null, \"Dans le cadre de ce cours, tout comme g\\xE9n\\xE9ralement dans un environnement professionnel, nous souhaitons pouvoir d\\xE9velopper une API ind\\xE9pendamment du d\\xE9veloppement d'une IHM.\"), mdx(\"p\", null, \"En effet, cela prendrait trop de temps de devoir d\\xE9velopper un frontend (HTML / JavaScript / CSS) pour tester nos API.\"), mdx(\"p\", null, \"Nous allons donc utiliser un client l\\xE9ger permettant de faire des requ\\xEAtes \\xE0 nos API.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Il en existe de nombreux, comme REST Client \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r55\"\n  }, \"[R.55]\"), \" ou Postman \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r56\"\n  }, \"[R.56]\"), \".\"), mdx(\"p\", null, \"Pour ce cours, nous vous pr\\xE9sentons et recommandons d'utiliser REST Client pour \\xE9crire et ex\\xE9cuter vos requ\\xEAtes HTTP.\"), mdx(\"h3\", null, \"e.10.2) REST Client\"), mdx(\"p\", null, \"Dans le cadre de ce cours, nous utilisons REST Client \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r55\"\n  }, \"[R.55]\"), \" de Visual Studio Code pour tester nos API.\"), mdx(\"p\", null, \"Pour installer REST Client au sein de VS Code, veuillez cliquer sur l'onglet \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Extensions\"), \". \"), mdx(\"p\", null, \"Recherchez l'extension \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"REST Client\"), \" et cliquez sur \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Install\"), \".\"), mdx(\"p\", null, \"Quelques notions pour utiliser REST Client :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Il faut cr\\xE9er un fichier \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \".http\"), \" (ou \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \".rest\"), \") contenant les requ\\xEAtes vers vos RESTful APIs.\", mdx(\"br\", {\n    parentName: \"li\"\n  }), \"NB : Il est appropri\\xE9 de cr\\xE9er un fichier par par type de ressources.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Chaque requ\\xEAte est introduite par \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"###\"), \" (3 \\\"\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"#\"), \"\\\"\\\" ou plus) ; voici la requ\\xEAte permettant de lire toutes les pizzas :\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Read all pizzas\\nGET http://localhost:3000/pizzas\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pour ex\\xE9cuter une requ\\xEAte, il suffit de cliquer sur \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Send Request\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Lorsqu'on envoie des donn\\xE9es au format JSON, il est important d'avoir un espace avant les accolades (avant le \\\"\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"{\"), \"\\\" ).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"On peut d\\xE9finir des \\\"\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"File variables\"), \"\\\" via ce genre de syntaxe : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"@baseUrl = http://localhost:3000\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Pour utiliser la variable \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"baseUrl\"), \", il suffit de la mettre entre double accolades. Par exemple, voici la requ\\xEAte permettant de lire toutes les pizzas :  \")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Read all pizzas with File variable\\n@baseUrl = http://localhost:3000\\nGET {{baseUrl}}/pizzas\\n\")), mdx(\"p\", null, \"Nous allons maintenant tester l'API de la pizzeria que nous avons cr\\xE9\\xE9e pour toutes ses op\\xE9rations.\"), mdx(\"p\", null, \"Au sein de VS Code, dans votre projet \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/tutorials/pizzeria/api/basic\"), \", veuillez cr\\xE9er un r\\xE9pertoire nomm\\xE9 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"REST Client\"), \". Dans ce r\\xE9pertoire, veuillez cr\\xE9er un fichier nomm\\xE9 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \".\"), mdx(\"p\", null, \"Dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \", veuillez ajouter cette requ\\xEAte pour la lecture de toutes les pizzas et ex\\xE9cutez la : \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Read all pizzas with File variable\\n@baseUrl = http://localhost:3000\\nGET {{baseUrl}}/pizzas\\n\")), mdx(\"p\", null, \"Est-ce que cela fonctionne bien ?  Avez vous bien d\\xE9marr\\xE9 votre API ?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Vous devriez obtenir le m\\xEAme r\\xE9sultat que si vous acc\\xE9diez \\xE0 votre API \\xE0 l'aide du browser.\"), mdx(\"p\", null, \"Au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \", veuillez ajouter ces deux requ\\xEAtes pour la lecture de toutes les pizzas en les triant selon leur titre :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Read all pizzas sorted by title (ascending)\\nGET {{baseUrl}}/pizzas/?order=+title\\n\\n### Read all pizzas sorted by title (descending)\\nGET {{baseUrl}}/pizzas/?order=-title\\n\")), mdx(\"p\", null, \"Veuillez ex\\xE9cuter ces deux requ\\xEAtes.\"), mdx(\"p\", null, \"Il semble que nous sommes pr\\xEAt pour cr\\xE9er une requ\\xEAte appelant l'op\\xE9ration de cr\\xE9ation d'une pizza.\"), mdx(\"p\", null, \"Au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \", veuillez ajouter cette requ\\xEAte pour la cr\\xE9ation d'une pizza :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Create a pizza\\nPOST {{baseUrl}}/pizzas\\nContent-Type: application/json\\n\\n{\\n    \\\"title\\\":\\\"Magic Green\\\",\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\n}\\n\")), mdx(\"p\", null, \"On remarque qu'il est important de mettre une ligne vide avant les accolades repr\\xE9sentant le body de la requ\\xEAte.  N'h\\xE9sitez pas \\xE0 tester cette requ\\xEAte avec ou sans la ligne vide pour y croire.\"), mdx(\"p\", null, \"\\uD83D\\uDCAD Comment tester que l'op\\xE9ration de cr\\xE9ation a fonctionn\\xE9e ?\"), mdx(\"p\", null, \"Et bien il suffit d'ex\\xE9cuter l'op\\xE9ration de lecture de toutes les pizzas \\uD83D\\uDE0E !\\nSi la nouvelle ressource appara\\xEEt, c'est qu'elle a bien \\xE9t\\xE9 cr\\xE9\\xE9e !\\nFaites le test.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e11\"\n  }), \" e.11) R\\xE9pondre avec un code de statut HTTP\"), mdx(\"p\", null, \"On ne peut pas toujours renvoyer du JSON suite \\xE0 une requ\\xEAte client ainsi qu'un code HTTP correspondant au fait que tout est OK (\\\"200 OK\\\").\"), mdx(\"p\", null, \"Quand vous ex\\xE9cutez cette requ\\xEAte :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Read all pizzas with File variable\\nGET {{baseUrl}}/pizzas\\n\")), mdx(\"p\", null, \"Vous faites appel \\xE0 l'op\\xE9ration de lecture de toutes les pizzas. La derni\\xE8re ligne de cette op\\xE9ration est la suivante :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"res.json(orderedMenu ?? MENU);\\n\")), mdx(\"p\", null, \"En fait, la fonction \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"json\"), \" renvoie une r\\xE9ponse au format JSON, mais de plus, elle renvoie un \\\"status code\\\" \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"200\"), \" indiquant au client que tout s'est bien pass\\xE9.\"), mdx(\"p\", null, \"Au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \", veuillez ajouter cette requ\\xEAte pour tenter de cr\\xE9er une pizza en oubliant un param\\xE8tre :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Create a pizza which lacks a property\\nPOST {{baseUrl}}/pizzas\\nContent-Type: application/json\\n\\n{\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\n}\\n\")), mdx(\"p\", null, \"Veuillez ex\\xE9cuter cette requ\\xEAte. Que se passe-t-il ?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"On r\\xE9cup\\xE8re un code d'erreur \\\"400 Bad Request\\\".\"), mdx(\"p\", null, \"En effet, lorsqu'on omet un param\\xE8tre dans la repr\\xE9sentation de la ressource \\xE0 cr\\xE9er, voici les lignes de code amenant au renvoi du code d'erreur 400 au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.js\"), \" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\",\n    \"metastring\": \"numbered {3,4,8}\",\n    \"numbered\": true,\n    \"{3,4,8}\": true\n  }, \"// Create a pizza to be added to the menu.\\nrouter.post('/', (req, res) => {\\n  const title = req?.body?.title?.length !== 0 ? req.body.title : undefined;\\n  const content = req?.body?.content?.length !== 0 ? req.body.content : undefined;\\n\\n  console.log('POST /pizzas');\\n\\n  if (!title || !content) return res.sendStatus(400); // error code '400 Bad request'\\n\\n  const lastItemIndex = MENU?.length !== 0 ? MENU.length - 1 : undefined;\\n  const lastId = lastItemIndex ? MENU[lastItemIndex]?.id : undefined;\\n  const nextId = lastItemIndex !== 0 ? lastId + 1 : 1;\\n\\n  const newPizza = {\\n    id: nextId,\\n    title: title,\\n    content: content,\\n  };\\n\\n  MENU.push(newPizza);\\n\\n  res.json(newPizza);\\n});\\n\")), mdx(\"p\", null, \"Le client est donc bien inform\\xE9 qu'il y a eu un probl\\xE8me lors de l'ex\\xE9cution de l'op\\xE9ration.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Il pourrait par exemple utiliser cette information pour pr\\xE9senter un message d'erreur au niveau d'une IHM.\"), mdx(\"p\", null, \"Voici les grandes cat\\xE9gories de \\\"status codes\\\" :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"R\\xE9ponses informatives : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"100-199\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"R\\xE9ponses en cas de succ\\xE8s : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"200-299\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Redirections : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"300-399\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Erreurs du client : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"400-499\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Erreurs du serveur : \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"500-599\"))), mdx(\"p\", null, \"Voici les \\\"status codes\\\" que nous allons g\\xE9n\\xE9ralement utiliser :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"200 OK\"), \" : tout s'est bien pass\\xE9, Express ajoute ce code automatiquement pour nous quand nous utilisons une m\\xE9thode comme \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"res.json()\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"400 Bad Request\"), \" : pour indiquer au client que la requ\\xEAte contient des param\\xE8tres non valides ou n'est pas compl\\xE8te.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"401 Unauthorized\"), \" : pour indiquer au client qu'il doit s'authentifier pour acc\\xE9der \\xE0 cette op\\xE9ration. On renvoie aussi ce code d'erreur quand un client fournit un mauvais username ou password.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"403 Forbidden\"), \" : le client est connu du serveur, mais il n'a pas les privil\\xE8ges pour acc\\xE9der \\xE0 cette op\\xE9ration (par exemple, le client n'est pas admin et tente d'acc\\xE9der \\xE0 une op\\xE9ration seulement accessible \\xE0 un admin).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"404 Not Found\"), \" : la ressource demand\\xE9e n'existe pas, bien que l'URL semble valide.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"409 Conflict\"), \" : l'\\xE9tat du serveur entre en conflit avec la requ\\xEAte. Par exemple, la requ\\xEAte demande de cr\\xE9er un utilisateur qui existe d\\xE9j\\xE0.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"500 Internal Server Error\"), \" : le serveur a rencontr\\xE9 une erreur qu'il ne peut pas r\\xE9gler. Par exemple, le serveur de base de donn\\xE9es ne r\\xE9pond pas et ne permet donc pas d'acc\\xE9der aux ressources.\")), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e12\"\n  }), \" e.12) Op\\xE9ration de suppression\"), mdx(\"p\", null, \"Nous souhaitons d\\xE9velopper une op\\xE9ration permettant de supprimer une ressource de type \\\"pizzas\\\" \\xE0 l'aide de son identifiant.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Selon les conventions REST, il faut faire une requ\\xEAte de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DELETE /pizzas/{id}\"), \" contenant l'identifiant de la ressource \\xE0 supprimer au sein de l'URL comme \\\"path parameter\\\".\"), mdx(\"p\", null, \"Une op\\xE9ration de suppression ne contient donc pas de body et est de type DELETE. \"), mdx(\"p\", null, \"Voici le code du router \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \" pour la nouvelle op\\xE9ration, veuillez la rajouter dans votre application :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// Delete a pizza from the menu based on its id\\nrouter.delete('/:id', (req, res) => {\\n  console.log(`DELETE /pizzas/${req.params.id}`);\\n\\n  const foundIndex = MENU.findIndex(pizza => pizza.id == req.params.id);\\n\\n  if (foundIndex < 0) return res.sendStatus(404);\\n\\n  const itemsRemovedFromMenu = MENU.splice(foundIndex, 1);\\n  const itemRemoved = itemsRemovedFromMenu[0];\\n\\n  res.json(itemRemoved);\\n});\\n\")), mdx(\"p\", null, \"Au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \", veuillez ajouter cette requ\\xEAte pour supprimer la pizza poss\\xE9dant l'identifiant \\\"2\\\" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Delete pizza identified by 2\\nDELETE {{baseUrl}}/pizzas/2\\n\")), mdx(\"p\", null, \"Veuillez ex\\xE9cuter cette requ\\xEAte et v\\xE9rifier que la pizza a bien \\xE9t\\xE9 supprim\\xE9e.\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"e13\"\n  }), \" e.13) Op\\xE9ration de modification\"), mdx(\"p\", null, \"Nous souhaitons d\\xE9velopper une op\\xE9ration permettant de modifier une ressource de type \\\"pizzas\\\" \\xE0 l'aide de son identifiant et de nouvelles valeurs pour ses propri\\xE9t\\xE9s.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Selon les conventions REST, comme on accepte de modifier que certaines des propri\\xE9t\\xE9s d'une pizza, qu'il ne faut pas fournir toutes les propri\\xE9t\\xE9s d'une pizza, il faut faire une requ\\xEAte de type \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"PATCH /pizzas/{id}\"), \" contenant\\nl'identifiant de la ressource \\xE0 supprimer au sein de l'URL comme \\\"path parameter\\\" ainsi que les nouvelles donn\\xE9es au sein du body de la requ\\xEAte.\"), mdx(\"p\", null, \"Si nous souhaitons modifier une ressource identifi\\xE9e par 6 en fournissant un nouveau titre \\\"Magic Green 2\\\", la repr\\xE9sentation des donn\\xE9es de la ressource \\xE0 modifier sera la suivante :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\n}\\n\")), mdx(\"p\", null, \"Selon les conventions REST, la requ\\xEAte de modification est de type PATCH et contient ses param\\xE8tres au sein du body de la requ\\xEAte.\"), mdx(\"p\", null, \"Voici le code du router \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/routes/pizzas.js\"), \" pour la nouvelle op\\xE9ration, veuillez la rajouter dans votre application :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// Update a pizza based on its id and new values for its parameters\\nrouter.patch('/:id', (req, res) => {\\n  console.log(`PATCH /pizzas/${req.params.id}`);\\n\\n  const title = req?.body?.title;\\n  const content = req?.body?.content;\\n\\n  console.log('POST /pizzas');\\n\\n  if ((!title && !content) || title?.length === 0 || content?.length === 0) return res.sendStatus(400);\\n\\n  const foundIndex = MENU.findIndex(pizza => pizza.id == req.params.id);\\n\\n  if (foundIndex < 0) return res.sendStatus(404);\\n\\n  const updatedPizza = {...MENU[foundIndex], ...req.body};\\n\\n  MENU[foundIndex] = updatedPizza;\\n\\n  res.json(updatedPizza);\\n});\\n\")), mdx(\"p\", null, \"Au sein de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pizzas.http\"), \", veuillez ajouter cette requ\\xEAte pour modifier la pizza poss\\xE9dant l'identifiant \\\"6\\\" :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-http\"\n  }, \"### Update the pizza identified by 6\\nPATCH {{baseUrl}}/pizzas/6\\nContent-Type: application/json\\n\\n{\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\n}\\n\")), mdx(\"p\", null, \"Veuillez ex\\xE9cuter cette requ\\xEAte et v\\xE9rifier que la pizza a bien \\xE9t\\xE9 modifi\\xE9e.\"), mdx(\"p\", null, \"\\uD83D\\uDCAD Cela ne fonctionne pas ?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Avez vous pr\\xE9c\\xE9demment ex\\xE9cut\\xE9 la requ\\xEAte permettant de cr\\xE9er une sixi\\xE8me pizza.\"), mdx(\"p\", null, \"Si tout fonctionne bien, faites un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre repo (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"web2\"), \") avec le message \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"api-basic\"), \"\\\".\"), mdx(\"p\", null, \"En cas de souci, vous pouvez acc\\xE9der au code du tutoriel ici : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/basic\"\n  }, \"api-basic\"), \".\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"f\"\n  }), \" f) Spread operator\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"f1\"\n  }), \" f.1) Spread operator au niveau d'un objet\"), mdx(\"p\", null, \"\\uD83D\\uDCAD Avez-vous observ\\xE9 un morceau de code inconnu au niveau de l'op\\xE9ration de modification, dans le router ?\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const updatedPizza = {...MENU[foundIndex], ...req.body};\\n\")), mdx(\"p\", null, \"Le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"spread operator\"), \" est tr\\xE8s utile en JS, ce sont les \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\\"...\\\"\"), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Ici, nous cr\\xE9ons un nouvel objet en int\\xE9grant deux objets : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"MENU[foundIndex]\")), \" et \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"req.body\")), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"spread operator\"), \" permet de faire une \\\"Shallow copy\\\", ou copie peu profonde, d'une pizza du menu, \\xE0 l'aide de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"...MENU[foundIndex]\")), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Cela reprend toutes les propri\\xE9t\\xE9s de la pizza identifi\\xE9e par \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"foundIndex\")), \".\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Ensuite, nous rempla\\xE7ons les propri\\xE9t\\xE9s existantes de cette pizza par les propri\\xE9t\\xE9s donn\\xE9es dans \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"req.body\")), \" \\xE0 l'aide de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"...req.body\")), \".  \"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"f2\"\n  }), \" f.2) Spread operator au niveau d'un array\"), mdx(\"p\", null, \"Au niveau de l'op\\xE9ration de lecture de toutes les pizzas, nous avons rencontr\\xE9 le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"spread operator\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"orderedMenu = [...MENU].sort((a, b) => a.title.localeCompare(b.title));\\n\")), mdx(\"p\", null, \"En effet, lorsque nous faisons un tri du menu, nous souhaitons le faire sur une copie de celui-ci.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uD83D\\uDCAD Mais pourquoi le faire sur une copie ?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Et bien, si nous autorisons \\xE0 trier l'array associ\\xE9 au MENU, lorsque nous tenterons d'ajouter une nouvelle pizza, le dernier \\xE9l\\xE9ment de l'array ne contiendra plus le dernier id (ou l'id le plus haut) !\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Comme la fonction \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"sort\"), \" modifie l'array sur lequel la m\\xE9thode est appel\\xE9e, nous travaillons sur une copie de cet array : \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"[...MENU]\")), \" cr\\xE9e un nouveau tableau contenant tous les \\xE9l\\xE9ments du \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"MENU\"), \".\"), mdx(\"h2\", null, mdx(\"a\", {\n    id: \"f3\"\n  }), \" f.3) Conclusion\"), mdx(\"p\", null, \"Le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"spread operator\"), \" est incroyablement puissant, il permet d'\\xE9crire du code concis et lisible.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Il est utilis\\xE9 dans les objets, les arrays, ainsi que comme param\\xE8tre de fonction.  \"), mdx(\"p\", null, \"N'h\\xE9sitez pas \\xE0 consulter la \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\"\n  }, \"documentation de MDN\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r57\"\n  }, \"[R.57]\"), \" pour en savoir plus.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"g\"\n  }), \" g) Exercice 4.1 : Cr\\xE9ation d'une RESTfull API non prot\\xE9g\\xE9e pour myMovies\"), mdx(\"p\", null, \"Veuillez continuer le d\\xE9veloppement de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"myMovies\"), \". Vous allez cr\\xE9er la premi\\xE8re version de la RESTful API de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"myMovies\"), \", sous Express, afin de mettre \\xE0 disposition toutes les op\\xE9ration de type CRUD sur des films.\"), mdx(\"p\", null, \"Afin de r\\xE9aliser cet exercice, voici les contraintes d'impl\\xE9mentation :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Veuillez cr\\xE9er une RESTful API pour la collection de films, qui r\\xE9ponde sur le port par d\\xE9faut d'une application Express (3000), et qui couvre ces op\\xE9rations :\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"URI\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"M\\xE9thode HTTP\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Op\\xE9ration\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"READ ALL : Lire toutes les ressources de la collection\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films?minimum-duration=value\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donn\\xE9\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films/{id}\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"READ ONE : Lire la ressource identifi\\xE9e\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"CREATE ONE : Cr\\xE9er une ressource bas\\xE9e sur les donn\\xE9es de la requ\\xEAte\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films/{id}\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"DELETE\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"DELETE ONE : Effacer la ressource identifi\\xE9e\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"films/{id}\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"PATCH\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"UPDATE ONE : Mettre \\xE0 jour les propri\\xE9t\\xE9s de la ressource par les valeurs donn\\xE9es dans la requ\\xEAte, pour une ou plusieurs propri\\xE9t\\xE9s\")))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Une ressource de type \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"films\"), \" doit contenir les propri\\xE9t\\xE9s suivantes :\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"id\"), \" : un entier\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"title\"), \" : titre du film (String)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"duration\"), \" : dur\\xE9e du film en minutes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"budget\"), \" : pour informer du co\\xFBt qu'a cout\\xE9 la production du film, en millions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"link\"), \" : pour donner une URL vers la description du film (lien vers imdb, rottentomatoes ou autre)\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Les ressources ne doivent pas persister : d\\xE8s lors, ajoutez les donn\\xE9es associ\\xE9es aux films dans un array.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Veuillez tester toutes les fonctions de la RESTful API pour la collection de films \\xE0 l'aide du REST Client dans VS Code (extension \\xE0 installer au sein de VS Code). Veuillez ajouter vos requ\\xEAtes au sein du fichier \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"films.http\"), \" dans le r\\xE9pertoire \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"REST Client\"), \" du dossier associ\\xE9 \\xE0 cet exercice.\")), mdx(\"p\", null, \"Le code de votre application web doit se trouver dans votre repository local et votre web repository (normalement appel\\xE9 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"web2\"), \") dans le r\\xE9pertoire nomm\\xE9 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/exercises/module4/4.1\"), \".\"), mdx(\"p\", null, \"Veuillez faire un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre code avec le message suivant :\\n\\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"myMovies : module 4 : basic API\"), \"\\\".\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"h\"\n  }), \" h) \\uD83C\\uDF6C Exercice 4.2 : Gestion de la pagination, de l'ordre de pr\\xE9sentation et du filtrage de films\"), mdx(\"p\", null, \"N'h\\xE9sitez pas, c'est optionnel, de g\\xE9rer de nouvelles op\\xE9rations au sein de votre RESTful API de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"myMovies\"), \" :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Filtrez tous les films qui commencent par une certaines cha\\xEEnes de caract\\xE8res.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"G\\xE9rez l'ordre de pr\\xE9sentation des films.\")), mdx(\"h4\", null, \"\\uD83E\\uDD1D Tips\"), mdx(\"p\", null, \"Besoin d'inspiration pour l'aspect filtrage et la gestion de l'ordre des ressources ? \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://dev.to/drminnaar/rest-api-guide-14n2\"\n  }, \"REST API Guide\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r58\"\n  }, \"[R.58]\"), \".\"), mdx(\"p\", null, \"Veuillez faire un \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"commit\"), \" de votre code avec le message suivant : \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"myMovies : module 4 : ordering & filtrering\"), \"\\\".\"), mdx(\"p\", null, \"\\uD83C\\uDF6C Et si vraiment vous avez encore du temps et souhaitez d\\xE9j\\xE0 approfondir les RESTful APIs, n'h\\xE9sitez pas aussi \\xE0 impl\\xE9menter la gestion de la pagination.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"modules/4.fr","frontmatter":{"title":"Module 4 : Service web & clients","date":null,"navbarExtraStyles":"","headerImage":"","featuredImage":"","description":"Création de services web, de RESTful API & requêtes clientes","autoMargin":true}},"allImages":{"edges":[{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20preserveAspectRatio='none'%3e%3crect%20width='100%25'%20height='100%25'%20fill='gray'/%3e%3cpath%20d='M227%202a256%20256%200%201059%20509A256%20256%200%2000227%202m7%2054c-82%209-150%2068-172%20147l-2%208%20120%20121c116%20116%20121%20120%20124%20119%2021-4%2052-19%2074-35%2047-35%2079-98%2079-154v-6H329v36h44l43%201a167%20167%200%2001-97%20115l-8%203-105-105-105-105%203-8a165%20165%200%2001287-32l27-23a202%20202%200%2000-184-82M56%20267a200%20200%200%2000196%20189L56%20260v7'%20fill='green'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png","srcSet":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png 512w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/cc23f/icon.webp 512w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}},"base":"icon.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='544'%20height='492'%20viewBox='0%200%20544%20492'%20preserveAspectRatio='none'%3e%3crect%20width='100%25'%20height='100%25'%20fill='gray'/%3e%3cpath%20d='M146%207c-31%208-51%2035-50%2068%201%2015%203%2020%2023%2056a3456%203456%200%200090%20151%2053177%2053177%200%200182%20145c16%2029%2018%2031%2026%2039a66%2066%200%2000113-47c0-19-1-20-33-75l-28-49h52c56%200%2064%200%2075-4a67%2067%200%2000-2-127l-8-2-39-1h-39l17-30c22-38%2023-41%2023-59%200-13%200-15-2-22a66%2066%200%2000-110-25c-8%208-9%2010-35%2055l-28%2048-28-47c-27-46-28-48-36-56a64%2064%200%2000-63-18'%20fill='green'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/web3/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png","srcSet":"/web3/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png 544w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/309e0fb8b4416829acfed4f7a501206b/5eade/logo_vinci.webp 544w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9044117647058824}},"base":"logo_vinci.png"}}]}},"pageContext":{"slug":"/modules/4/"}},"staticQueryHashes":["1696221415","3028011774","3458129946","493526238","575455071"]}