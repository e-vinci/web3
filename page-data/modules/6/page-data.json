{"componentChunkName":"component---src-templates-mdx-pages-js","path":"/modules/6/","result":{"data":{"mdx":{"id":"3470ec88-a213-58b1-8d00-50db5c9f5faa","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Module 6 : API REST avec MongoDB\",\n  \"description\": \"API REST avec MongoDB\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Module 6 : API REST avec MongoDB\"), mdx(\"p\", null, \"Dans ce module, nous alons revoir comment faire une API REST, mais surtout comment utiliser une base de donn\\xE9es MongoDB pour persister nos donn\\xE9es.\"), mdx(\"p\", null, \"Voici les sujets trait\\xE9s :\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#a\"\n  }, \"Rappel : cr\\xE9ation d'une API REST\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"b) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#b\"\n  }, \"\\uD83C\\uDF6C Pour se rafraichir la m\\xE9moire un peu plus (pas obligatoire)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#c\"\n  }, \"Premier acc\\xE8s \\xE0 la DB\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"d) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#d\"\n  }, \"Cr\\xE9ation d'une API REST avec MongoDB\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"e) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#e\"\n  }, \"Gestion des erreurs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"f) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#f\"\n  }, \"\\uD83C\\uDF6C Pour aller plus loin : Update dans la DB\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"g) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#g\"\n  }, \"A retenir\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"h) \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#h\"\n  }, \"Solution des exercices\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Voici les lectures qui sont r\\xE9f\\xE9renc\\xE9es dans ce module :\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://fullstackopen.com/en/part3/node_js_and_express\"\n  }, \"Node.js and Express\"), \" \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://fullstackopen.com/en/part3/saving_data_to_mongo_db\"\n  }, \"Saving data to MongoDB\"), \" \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\"))), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"a\"\n  }), \"a) Rappel : cr\\xE9ation d'une API REST\"), mdx(\"p\", null, \"Dans le cours de Web 2, vous avez appris comment faire une API REST avec Node.js. Nous vous invitons \\xE0 lire \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://fullstackopen.com/en/part3/node_js_and_express\"\n  }, \"Node.js and Express\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\"), \" pour vous raffraichir la m\\xE9moire.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"b\"\n  }), \" b) \\uD83C\\uDF6C Pour se rafraichir la m\\xE9moire un peu plus (optionnel)\"), mdx(\"p\", null, \"Dans la fiche lue pr\\xE9c\\xE9demment, il y a des exercices. Vous ne devez pas les faire. Si vous souhaitez quand m\\xEAme les faire, libre \\xE0 vous, mais attention que la vraie mati\\xE8re de cette s\\xE9ance est plut\\xF4t port\\xE9e sur MongoDB. Ces exercices sont consid\\xE9r\\xE9s comme connus. Les faire risque de vous mettre en retard sur la fiche, et vous devrez alors la terminer chez vous.\"), mdx(\"p\", null, \"Pour les exercices 3.1 \\xE0 3.8, ils peuvent tous \\xEAtre faits dans le m\\xEAme projet de mani\\xE8re it\\xE9rative. La solution vous sera fournie, car elle servira de base pour un exercice futur.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Remarque :\"), \" lorsqu'il y a un souci de validation (comme dans l'exercice 3.6), nous vous invitons \\xE0 utiliser le status code 422 au lieu d'un code 400 trop g\\xE9n\\xE9rique.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"c\"\n  }), \"c) Premier acc\\xE8s \\xE0 la DB\"), mdx(\"p\", null, \"Nous vous invitons \\xE0 lire la fiche \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://fullstackopen.com/en/part3/saving_data_to_mongo_db\"\n  }, \"Saving data to MongoDB\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\"), \" et faire l'exercice 3.12.\"), mdx(\"p\", null, \"Pour faire l'exercices 12, nous vous invitons \\xE0 cr\\xE9er un nouveau projet, par exemple dans le dossier \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/exercises/module6/ex3.12\"), \" en lan\\xE7ant la commande \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm init\"), \" dans le dossier du projet. Une fois le projet cr\\xE9\\xE9, il faut y installer les d\\xE9pendances (mongoose...)\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Attention\"), \", cet exercice ne concerne qu'un simple fichier mongo.js, \\xE0 cr\\xE9er, qui permet de faire des op\\xE9rations dans la DB. Il n'y a donc pas de serveur web.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"d\"\n  }), \"d) Cr\\xE9ation d'une API REST avec MongoDB\"), mdx(\"p\", null, \"Maintenant que vous avez mis votre DB en place, et que vous avez pu y acc\\xE9der une premi\\xE8re fois, nous allons faire une API compl\\xE8te.\"), mdx(\"p\", null, \"Lisez la suite de la fiche \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://fullstackopen.com/en/part3/saving_data_to_mongo_db\"\n  }, \"Saving data to MongoDB\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/web3/references/#r1\"\n  }, \"[R.1]\"), \" et faites les exercices 3.13 \\xE0 3.15.\"), mdx(\"p\", null, \"Repartez de la solution de la partie a) disponible sur Gitlab ici : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gitlab.vinci.be/6i3-web3/2023-2024/module6-rappels\"\n  }, \"Solution module 6 rappels\"), \". Veillez \\xE0 refactorer le code pour utiliser une structure ad\\xE9quate et maintenable.\"), mdx(\"p\", null, \"N'oubliez pas de faire un module s\\xE9par\\xE9 pour l'acc\\xE8s \\xE0 la DB, et utilisez les variables d'environnement pour donner l'URL de la DB \\xE0 votre application.\"), mdx(\"p\", null, \"Pour l'exercice 3.13, ne travaillez que sur la route \\\"get all\\\", et pas sur la route \\\"get one by id\\\". La seconde sera faite dans un exercice bonus plus tard.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"e\"\n  }), \"e) Gestion des erreurs\"), mdx(\"p\", null, \"Faites les exercices 3.16 de la s\\xE9ance lue pr\\xE9c\\xE9demment : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://fullstackopen.com/en/part3/saving_data_to_mongo_db#exercises-3-15-3-18\"\n  }, \"Saving data to MongoDB\"), \" mais uniquement pour le cas d'erreur \\\"malformed id\\\". Vous ne devez pas g\\xE9rer les autres cas pour l'instant.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"f\"\n  }), \"f) \\uD83C\\uDF6C Pour aller plus loin : Update dans la DB (optionnel)\"), mdx(\"p\", null, \"Faites les exercices 3.16, 3.17 et 3.18 de la s\\xE9ance lue pr\\xE9c\\xE9demment : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://fullstackopen.com/en/part3/saving_data_to_mongo_db#exercises-3-15-3-18\"\n  }, \"Saving data to MongoDB\")), mdx(\"p\", null, \"Dans l'exercices 3.16, g\\xE9rez \\xE0 pr\\xE9sent tous les cas d'erreur de votre application.\"), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"g\"\n  }), \"g) A retenir\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"MongoDB est une base de donn\\xE9e NoSQL qui permet de stocker des objets JSON (BSON en r\\xE9alit\\xE9) dans les collections. Aucune v\\xE9rification de sch\\xE9ma n'est effectu\\xE9e par la DB, mais on peut faire des v\\xE9rifications de sch\\xE9ma c\\xF4t\\xE9 applicatif, ici avec Mongoose.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Mongoose va nous connecter \\xE0 la DB, et nous proposer de cr\\xE9er des Mod\\xE8les, sur base de Sch\\xE9mas. Ces mod\\xE8les sont des fonctions \\\"constructeur\\\", ce qui nous donne des objets JS qui ont des m\\xE9thodes sp\\xE9cifiques, notamment une m\\xE9thode \\\"\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"save\"), \"\\\" qui permet d'ajouter l'objet cr\\xE9\\xE9 en DB.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"On n'est pas oblig\\xE9s d'utiliser Mongoose et toutes les facilit\\xE9s associ\\xE9es. Il existe une driver Node.js officiel \\\"de base\\\" qui permet de faire toutes les op\\xE9rations n\\xE9cessaires sur la DB. Il ne fournit par contre pas les syst\\xE8mes de sch\\xE9ma, de mod\\xE8le... Lorsque ces \\xE9l\\xE9ments ne vous sont pas utiles, pr\\xE9f\\xE9rez le driver par d\\xE9faut.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"ON NE MET JAMAIS LES INFORMATIONS DE CONNEXION A LA DB DANS SON CODE !!!\"), \" Ces informations sensibles (elles contiennent notamment le mot de passe) doivent \\xEAtre extraites dans des variables d'environnement, ou de mani\\xE8re plus simple, dans des fichiers \\\".env\\\" qui ne sont pas versionn\\xE9s.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Le code qui nous permet de nous connecter \\xE0 la DB, les sch\\xE9mas, les mod\\xE8les...  doivent \\xEAtre mis dans un module s\\xE9par\\xE9.\")), mdx(\"h1\", null, mdx(\"a\", {\n    id: \"h\"\n  }), \" h) \\uD83C\\uDF6C Solution des exercices\"), mdx(\"p\", null, \"Une solution pour les exercices de ce module se trouvent ici : \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gitlab.vinci.be/6i3-web3/2023-2024/module6\"\n  }, \"module6\"), \".\"), mdx(\"p\", null, \"Vous devez avoir un compte Vinci pour pouvoir y acc\\xE9der.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"modules/6.fr","frontmatter":{"title":"Module 6 : API REST avec MongoDB","date":null,"navbarExtraStyles":"","headerImage":"","featuredImage":"","description":"API REST avec MongoDB","autoMargin":true}},"allImages":{"edges":[{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#683898","images":{"fallback":{"src":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png","srcSet":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/0cbce/icon.png 512w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/53aa06cf17e4239d0dba6ffd09854e02/cc23f/icon.webp 512w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}},"base":"icon.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/web3/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png","srcSet":"/web3/static/309e0fb8b4416829acfed4f7a501206b/98149/logo_vinci.png 544w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/309e0fb8b4416829acfed4f7a501206b/5eade/logo_vinci.webp 544w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9044117647058824}},"base":"logo_vinci.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/web3/static/1b27e491527e99eeac84485aef739cd3/7af5e/opinions.png","srcSet":"/web3/static/1b27e491527e99eeac84485aef739cd3/7af5e/opinions.png 363w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/1b27e491527e99eeac84485aef739cd3/f319a/opinions.webp 363w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.41597796143250687}},"base":"opinions.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/web3/static/24dee9cafd76e7c25dc74141c33450b2/e53ce/propDrilling.png","srcSet":"/web3/static/24dee9cafd76e7c25dc74141c33450b2/c0a68/propDrilling.png 750w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/8e03e/propDrilling.png 1080w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/e53ce/propDrilling.png 1128w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/24dee9cafd76e7c25dc74141c33450b2/6e63e/propDrilling.webp 750w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/fcd24/propDrilling.webp 1080w,\n/web3/static/24dee9cafd76e7c25dc74141c33450b2/9bf70/propDrilling.webp 1128w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7677304964539007}},"base":"propDrilling.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/web3/static/4ac56fca29eee6cf101be55d24c59b72/79afd/scores.png","srcSet":"/web3/static/4ac56fca29eee6cf101be55d24c59b72/79afd/scores.png 287w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/4ac56fca29eee6cf101be55d24c59b72/c6f03/scores.webp 287w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.494773519163763}},"base":"scores.png"}},{"node":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#181818","images":{"fallback":{"src":"/web3/static/3df055edb9c0a06e37fec1309d96c61e/d8efd/autocompletion.png","srcSet":"/web3/static/3df055edb9c0a06e37fec1309d96c61e/d8efd/autocompletion.png 570w","sizes":"100vw"},"sources":[{"srcSet":"/web3/static/3df055edb9c0a06e37fec1309d96c61e/08f60/autocompletion.webp 570w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6964912280701754}},"base":"autocompletion.png"}}]}},"pageContext":{"slug":"/modules/6/"}},"staticQueryHashes":["1696221415","3028011774","3458129946","493526238","501654901","575455071"]}