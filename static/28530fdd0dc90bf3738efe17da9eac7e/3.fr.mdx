---
title: "Module 3 : Complex state & collections"
description: "Complex state & Rendering collection"
---

# Module 3 : Complex state & collections
Ce module vous offre principalement la gestion d'un √©tat complexe et le rendu de collections.

Voici les sujets trait√©s :
- a) [Gestion d'un √©tat plus complexe](#a)
  - a.1) [Bonnes pratiques pour g√©rer un √©tat complexe](#a1)
  - a.2) [Exercice 3.1 : Application React de base](#a2)
  - a.3) [Loading component](#a3)
- b) [Rendu de collections](#b)
  - b.1) [Bonnes pratiques pour rendre des collections](#b1)
  - b.2) [Exercice 3.2 : rendu d'une collection](#b2)
- c) [üç¨ Exercise 3.3 : Plus d'entrainements via des anecdotes](#c)
- d) [R√©sum√©](#d)
- e) [Solution des exercices](#e)

**Voici les lectures indispensables pour suivre ce module :**
- Gestion d'un √©tat complexe, nouvelle mati√®re : [A more complex state, debugging React apps](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps/) [[R.1]](/references/#r1)
- Rendu de collections, nouvelle mati√®re : [Rendering a collection, modules](https://fullstackopen.com/en/part2/rendering_a_collection_modules#rendering-collections) [[R.1]](/references/#r1)


# <a id="a"></a>a) Gestion d'un √©tat plus complexe
## <a id="a1"></a>a.1) Bonnes pratiques pour g√©rer un √©tat complexe
Veuillez lire les bonnes pratiques pour g√©rer un √©tat complexe : [A more complex state, debugging React apps](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps/) [[R.1]](/references/#r1).


## <a id="a2"></a> a.2) Exercice 3.1 : Application React de base
Veuillez faire les exercices **1.6 √† 1.11** repris √† la suite de ce que vous venez de lire dans le dossier **/exercises/module3** de votre repo local : [Exercises 1.6.-1.14.](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps#exercises-1-6-1-14) [[R.1]](/references/#r1).

Pour d√©marrer ces exercices, veuillez :
- Dans votre dossier **/exercises/modules3** de votre repo local, lancer la commande : `npx create-react-app 3.1`
- Supprimer tout le contenu du dossier **src/**.
- Ne pas oublier de supprimer le dossier **.git**.
- Copier le fichier **jsconfig.json** et **src/index.js** depuis le dossier de l'exercice du module pr√©c√©dent.


Veuillez faire un **commit** de votre code avec le message suivant : "**module3 : basics**".


## <a id="a3"></a> a.3) Loading component
Toujours au sein de **/exercises/module3/3.1**, continuez l'exercice en :
- cr√©ant un composant **Loading** qui va afficher un message de chargement.
- ajoutant un √©tat **loading** dans le composant qui va passer de **true** √† **false** automatiquement gr√¢ce √† un **setTimeout** apr√®s 3 secondes.
- affichant le composant de chargement au lieu du feedback & des statistiques dans le cas o√π la variable **loading** est √† **true**.

Veuillez faire un **commit** de votre code avec le message suivant : "**module3 : loading**".

# <a id="b"></a>b) Rendu de collections
## <a id="b1"></a>b.1) Bonnes pratiques pour rendre des collections
Veuillez lire les bonnes pratiques concernant le rendu de collections : [Rendering a collection, modules](https://fullstackopen.com/en/part2/rendering_a_collection_modules#rendering-collections) [[R.1]](/references/#r1).


## <a id="b2"></a>b.2) Exercice 3.2 : rendu d'une collection
Veuillez faire l'exercice 2.1 repris √† la suite de ce que vous venez de lire dans le dossier **/exercises/module3** de votre repo local : [Exercise 2.1.](https://fullstackopen.com/en/part2/rendering_a_collection_modules#exercises-2-1-2-5)[[R.1]](/references/#r1).

Pour initialiser cet exercice, nous vous recommandons de cr√©er manuellement le r√©pertoire **/exercises/module3/3.2** et d'y copier / coller le contenu du r√©pertoire **/exercises/module1/1.1-1.2**.

Veuillez faire un **commit** de votre code avec le message suivant : "**module3 : collection**".

# <a id="c"></a>c) üç¨ Exercise 3.3 : Plus d'entrainements via des anecdotes *(Exercice facultatif, pour les plus motiv√©s)*

Vous pourriez faire les exercices 1.12 √† 1.14 de la s√©ance lue pr√©c√©demment : [Exercises 1.6.-1.14.](https://fullstackopen.com/en/part1/a_more_complex_state_debugging_react_apps#exercises-1-6-1-14) [[R.1]](/references/#r1).

Dans ce cas, faites ces exercices au sein de votre repo local dans le dossier **/exercises/module3/3.3**. 

Veuillez faire un **commit** de votre code avec le message suivant : "**module3 : anecdotes**".

# <a id="d"></a> d) R√©sum√©

- Un √©tat complexe peut √™tre stock√© sous forme d'un objet JS, mais souvent, il est plus pratique de d√©composer l'√©tat en plus petites parties.
- Ne jamais modifier l'√©tat sans passer par la m√©thode **setXXX** retourn√©e pas le **useState()**.  
Soyez particuli√®rement attentifs pour des objets ou tableaux qui peuvent √™tre modifi√©s facilement (**push**, **pop**...). Utilisez plut√¥t des m√©thodes qui ne changent pas l'objet initial (**concat**...).
- Les hooks (**useState** par exemple) ne peuvent jamais √™tre appel√©s dans une boucle, une expression conditionnelle... Appelez-les toujours √† la "racine" de la fonction du composant, de sorte √† ce que l'ordre d'appel soit pr√©dictible.
- Un event handler doit √™tre une fonction, et pas un appel. Cependant on peut mettre dans **`onClick={....}`** un appel de fonction qui renvoie une fonction.
- Ne jamais d√©finir un composant dans un autre composant. React traitera ce composant comme un nouveau √† chaque rendu, ce qui casse l'optimisation des rendus de React.
- Sur un array, on peut utilise **map** pour "render" chaque √©l√©ment, **filter** pour filtrer... Et ce, directement dans le JSX ci-n√©cessaire.
- L'attribut **key** est indispensable pour chaque √©l√©ment d'une liste.
- L'attribut **key** doit √™tre unique et ne pas changer. D√®s lors, la position dans la liste (index) n'est pas une bonne solution.

# <a id="e"></a> e) üç¨ Solution des exercices
Une solution pour les exercices de ce module se trouvent ici : [module3](https://gitlab.vinci.be/6i3-web3/2022-2023/module3.git).

Vous devez avoir un compte Vinci pour pouvoir y acc√©der.
