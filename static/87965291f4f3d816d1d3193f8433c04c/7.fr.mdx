---
title: "Module 7 : React router & Ant Design"
description: "React router & Ant Design"
---

# Module 7 : React router & Ant Design
Ce module vous offre principalement la gestion de React Router et l'utilisation d'Ant Design.

Voici les sujets trait√©s :
- a) [React router](#a)
  - a.1) [Introduction au router de React](#a1)
  - a.2) [Root path & formulaire de cr√©ation](#a2)
  - a.3) [Show path avec un param√®tre dans l'url](#a3)
  - a.4) [Redirect & Notification](#a4)
  - a.5) [R√©sum√©](#a5)
- b) [Ant Design](#b)
  - b.1) [Introduction √† Ant Design](#b1)
  - b.2) [Int√©gration de Ant Design dans un projet](#b2)
  - b.3) [Ant Design Forms](#b3)
  - b.4) [üç¨ Encore d'autres composants (optionnel)](#b4)

**Voici les lectures qui sont r√©f√©renc√©es dans ce module :**
- [React-router](https://fullstackopen.com/en/part7/react_router) [[R.1]](/references/#r1)

# <a id="a"></a> a) React router
## <a id="a1"></a> a.1) Introduction au router de React
Veuillez d√©couvrir le router offert par React en lisant [React-router](https://fullstackopen.com/en/part7/react_router) [[R.1]](/references/#r1).

## <a id="a2"></a> a.2) Root path & formulaire de cr√©ation
Dans le r√©pertoire **module7/7.1-7.3** de votre repo, veuillez faire l'exercice **7.1** se trouvant √† la suite des explications sur le router : [Exercises 7.1.-7.3.](https://fullstackopen.com/en/part7/react_router#exercises-7-1-7-3) [[R.1]](/references/#r1).

Pour r√©aliser cet exercice vous devrez cloner le repository git mentionn√© (h√©berg√© sur github et pas sur gitlab) et ne pas oublier de supprimer le dossier **.git** (et ne garder donc que le working tree).

## <a id="a3"></a> a.3) Show path avec un param√®tre dans l'url
Toujours dans le r√©pertoire **module7/7.1-7.3** de votre repo, veuillez faire l'exercice **7.2** se trouvant √† la suite des explications sur le router : [Exercises 7.1.-7.3.](https://fullstackopen.com/en/part7/react_router#exercises-7-1-7-3) [[R.1]](/references/#r1).

## <a id="a4"></a> a.4) Redirect & Notification
Toujours dans le r√©pertoire **module7/7.1-7.3** de votre repo, veuillez faire l'exercice **7.3** se trouvant √† la suite des explications sur le router : [Exercises 7.1.-7.3.](https://fullstackopen.com/en/part7/react_router#exercises-7-1-7-3) [[R.1]](/references/#r1).

Pour la disparition de la notification apr√®s 5 secondes, vous aurez besoin d'un state **notification**,  de **setTimeout**, et de **useEffect**. Le state **notification** fait d√©j√† partie du code de base fourni.

## <a id="a5"></a> a.5) R√©sum√©
- Le router react permet d'interagir avec la barre d'adresse du navigateur et avec l'historique du bouton back sans r√©ellement envoyer de nouvelles requ√™te au serveur.
- Le routeur s'utilise habituellement avec un composant **switch** qui s'arr√™tera √† la premi√®re route qui passe le test, sans se composant le routeur peut afficher plusieurs routes.
- On ne peut plus utiliser de balise **`<a>`** pour les liens, on a besoin d'une balise **`<Link>`** qui va interagir avec le router.
- Gr√¢ce au hook **useNavigate**, on peut facilement faire une redirection programmatique. On peut aussi utiliser le composant **`<Redirect>`** qui ex√©cutera un redirect s'il est affich√©.
- Gr√¢ce au hook **useParam**, on peut facilement acc√©der aux params pass√©s dans l'url.
- Le **`<Router>`** introduit un contexte qui est utilis√© par les diff√©rents hooks. On ne peut donc pas utiliser les hooks dans le m√™me composant que celui o√π on a introduit le **Router** mais uniquement dans des composants plus bas dans l'arbre.
- Lorsqu'un utilisateur clique sur un lien ou un bouton, il faut d√©cider si l'action va changer la route ou changer le state, on ne fait pas les deux (peupler le state sur base de la route). Les endroits o√π l'on peut "trouver" des donn√©es sont donc : 
  - les props
  - le state
  - les contextes
  - les params de l'url
  - d'autres sources comme le localStorage ou les API qui devront d'abord transiter par une des options pr√©c√©dentes.

# <a id="b"></a> b) Ant Design
## <a id="b1"></a>b.1) Introduction √† Ant Design

Nous allons √† pr√©sent int√©grer une biblioth√®que de composants React qui va nous rendre un certain nombre de services pour la conception, ainsi que la cr√©ation de notre interface utilisateur. Il en existe plusieurs, mais nous avons choisi ici de vous proposer : **Ant Design**.

Dans un premier temps, "d√©ambulez" sur le site internet https://ant.design/ [[R.9]](/references/#r9) pour vous faire une id√©e des "services" rendus par ce module (~5-10min). Vous remarquerez que **Ant Design** semble proposer plusieurs choses :

- Un ensemble de "patterns", et "principes" √† respecter pour la cr√©ation d'interfaces graphiques efficaces : [Introduction] (https://ant.design/docs/spec/introduce) [[R.9]](/references/#r9).
- Un ensemble d'outils pour vous aider dans la cr√©ation d'interfaces (application de prototypage, des templates de sites web...).
- Un ensemble de composants "pr√™ts √† l'emploi", pour la cr√©ation d'interfaces graphiques : [Components Overview](https://ant.design/components/overview/) [[R.9]](/references/#r9).

C'est sur ce dernier point que nous allons principalement travailler. 

## <a id="b2"></a> b.2) Int√©gration de Ant Design dans un projet

Veuillez cr√©er un nouveau projet dans le r√©pertoire **module7/7.4** de votre repo sur base d'un "copier / coller" du contenu de l'application d√©velopp√©e aux exercices pr√©c√©dent.

Commen√ßons par int√©grer **Ant Design** dans notre projet, au sein du r√©pertoire associ√© aux exercices pr√©c√©dents.  
Pour cela, consultez la documentation officielle [Use in create-react-app](https://ant.design/docs/react/use-with-create-react-app) [[R.9]](/references/#r9). 

Attention, **Ant Design** conseille d'utiliser **yarn** au lieu de **npm**. Inutile ici d'installer **yarn**, **npm** fonctionnera tr√®s bien pour nous.  
Veuillez faire attention √† ne pas copier simplement les commandes, mais √† bien r√©fl√©chir √† leur utilit√©, tout en lisant attentivement la documentation.  
Par exemple, inutile de faire la premi√®re commande **`npx create-react-app antd-demo`** car notre projet existe d√©j√†...

Ensuite, commen√ßons par changer les "input" de notre composant "**CreateNew**", en utilisant les composants "**Input**" de **Ant Design** : [Input](https://ant.design/components/input/) [[R.9]](/references/#r9).  
Pour cela, consultez la documentation officielle, en regardant plus en d√©tail les exemples, et notamment le code source associ√©. Cliquez sur l'icone "**< >**" en dessous d'un exemple pour voir le code source associ√© √† l'exemple. Pour avoir une vue compl√®te des props que vous pouvez passer au composant, consultez la section API √† la fin de la page. L'exemple "**Basic usage**" devrait nous suffire dans un premier temps.

Faisons de m√™me pour le bouton, en utilisant le composant "**Button**" de **Ant Design** : [Button](https://ant.design/components/button/) [[R.9]](/references/#r9).

Si vous le souhaitez, n'h√©sitez pas √† ajouter des petites ic√¥nes dans les boutons, des pr√©fixes sur les inputs... pour vous rendre compte de la simplicit√©.

## <a id="b3"></a> b.3) Ant Design Forms

Nous avons maintenant utilis√© nos premiers composants "externes" propos√©s par **Ant Design**. Nous allons maintenant remplacer notre balise "**form**" par le formulaire **Ant Design** qui va nous rendre beaucoup de services.

Consultons la documentation officielle du composant [Form](https://ant.design/components/form/) [[R.9]](/references/#r9), et plus particuli√®rement le "**Basic Usage**", et adaptons notre code pour en faire usage. Nous constaterons que ce composant nous rend plusieurs services :
- Validation des champs : veuillez faire en sorte que tous les champs soient requis pour l'ajout d'une anectdote.
- Gestion de l'√©tat du formulaire int√©gr√© : nous ne devons plus utiliser des "**useState()**" avec des "**onChange()**" pour contr√¥ler le formulaire.
- Gestion plus simple du submit du formulaire.
- Gestion du "**layout**" du formulaire, avec alignement des labels...

N'h√©sitez pas √† consulter les autres options possibles sur les formulaires, il y en a pour tous les cas d'utilisation...

## <a id="b4"></a> b.4) üç¨ Encore d'autres composants (optionnel)
N'h√©sitez pas √† continuer la modification de votre application en utilisant d'autres composants. 

Nous vous conseillons :
- [Layout](https://ant.design/components/layout/) [[R.9]](/references/#r9) : pour le layout de votre projet, avec un menu, un footer...
- [Message](https://ant.design/components/message/) ou [Alert](https://ant.design/components/alert/) [[R.9]](/references/#r9) pour les notifications.
- [List](https://ant.design/components/list/) ou [Table](https://ant.design/components/table/) [[R.9]](/references/#r9) pour la liste des anecdotes.
